<!DOCTYPE html>
<!-- saved from url=(0080)https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml -->
<html class=" js flexbox flexboxlegacy no-touch websqldatabase indexeddb history csscolumns csstransforms localstorage sessionstorage no-applicationcache svg inlinesvg zoom" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#" itemscope="" itemtype="http://schema.org/Book http://schema.org/ItemPage" data-login-url="/accounts/login/" data-offline-url="/" data-url="/library/view/ruby-on-rails/9780136702726/ch10.xhtml" data-csrf-cookie="csrfsafari" data-highlight-privacy="" data-user-id="10224494" data-user-uuid="66943332-5511-462c-876e-5d5b720c7edf" data-username="czjtgu3dkobug4zdmolfga2wembsmu" data-account-type="Trial" data-activated-trial-date="12/02/2020" data-archive="9780136702726" data-publishers="Addison-Wesley Professional" data-htmlfile-name="ch10.xhtml" data-epub-title="Ruby on Rails Tutorial, 6th Edition" data-debug="0" data-testing="0" style=""><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="author" content="O&#39;Reilly Media"><meta name="format-detection" content="telephone=no"><meta http-equiv="cleartype" content="on"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="apple-itunes-app" content="app-id=881697395, app-argument=safaridetail://9780136702726"><link rel="shortcut icon" href="https://www.oreilly.com/favicon.ico"><meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0"><meta property="twitter:account_id" content="4503599627559754"><link rel="shortcut icon" href="https://learning.oreilly.com/favicon.ico" type="image/x-icon"><link href="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/css" rel="stylesheet" type="text/css"><title>Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition</title><link rel="stylesheet" href="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/output.731fc84c4f9a.css" type="text/css"><link rel="stylesheet" type="text/css" href="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/annotator.e3b0c44298fc.css"><link rel="stylesheet" href="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/font-awesome.min.css"><style type="text/css" title="ibis-book">@page{margin:1em 2em}#sbo-rt-content div{margin-top:1em;margin-bottom:1em;margin-left:1em;margin-right:1em;text-align:justify}#sbo-rt-content div.cover img{max-width:99%;max-height:99%}#sbo-rt-content .att{text-align:right}#sbo-rt-content .cover{margin-top:.5em;margin-bottom:.5em;text-align:center}#sbo-rt-content .h1{margin-top:1.5em;margin-bottom:.5em;font-weight:bold;font-size:210%;page-break-after:avoid;border-bottom:solid .1em;text-align:center}#sbo-rt-content .halftitle{margin-top:1em;margin-bottom:2em;font-weight:bold;font-size:210%;page-break-after:avoid;text-align:center}#sbo-rt-content .h2{margin-top:1em;margin-bottom:.1em;font-weight:bold;font-size:180%;border-bottom:solid .1em;page-break-after:avoid;text-align:left}#sbo-rt-content .h2f{margin-top:1em;margin-bottom:2.5em;font-weight:bold;font-size:190%;border-bottom:solid .1em;page-break-after:avoid;text-align:left}#sbo-rt-content .h2t{margin-top:1em;margin-bottom:2em;font-weight:bold;font-size:190%;border-bottom:solid .1em;page-break-after:avoid;text-align:left}#sbo-rt-content .center{text-align:center}#sbo-rt-content .h3{margin-top:.5em;margin-bottom:.001em;font-weight:bold;font-size:160%;page-break-after:avoid;text-align:left}#sbo-rt-content .h4{margin-top:.5em;margin-bottom:.001em;font-weight:bold;font-size:130%;page-break-after:avoid;text-align:left}#sbo-rt-content .h5{margin-top:.5em;margin-bottom:.001em;font-weight:bold;font-size:120%;page-break-after:avoid;text-align:left}#sbo-rt-content ul{margin-top:1em;margin-bottom:1em;margin-left:.2em}#sbo-rt-content ul.sq{list-style-type:square}#sbo-rt-content ul.sq li p,#sbo-rt-content ul.sq li p.noindent{margin-top:.5em;margin-left:1em;margin-bottom:.5em;text-indent:.002em}#sbo-rt-content .left{text-align:left}#sbo-rt-content .ex-title{margin-top:.8em;margin-bottom:.5em;text-indent:.1em;font-size:100%}#sbo-rt-content code{font-family:Courier,Courier New,monospace;font-size:small}#sbo-rt-content pre{font-family:Courier,Courier New,monospace;margin-top:.6em;margin-bottom:1em;margin-left:.1em;line-height:1.3em;font-size:small}#sbo-rt-content .pre3{font-family:Courier,Courier New,monospace;margin-top:1em;margin-bottom:1em;margin-left:2.9em;background-color:#E6E6E6}#sbo-rt-content .equ{margin-top:.8em;margin-bottom:.5em;text-align:center}#sbo-rt-content .footnum{margin-top:.7em;margin-bottom:.5em;text-indent:-1em;margin-left:3.3em}#sbo-rt-content .footnotep{margin-top:.8em;margin-left:.8em;margin-bottom:.5em;text-indent:.8em}#sbo-rt-content .mark1{background-color:#F4F7F9}#sbo-rt-content .codelink{margin-top:.2em;margin-bottom:.5em}#sbo-rt-content .middle img{vertical-align:middle}#sbo-rt-content .box{margin-top:.6em;margin-bottom:1em;margin-left:.1em;margin-right:.8em;padding:.8em;background-color:#E6E6E6}#sbo-rt-content .box-bq{font-size:.8em;margin-top:.8em;margin-bottom:.5em;margin-left:1.6em;text-indent:.1em;background-color:#E6E6E6}#sbo-rt-content .boxip{margin-top:.5em;margin-left:.1em;margin-bottom:.5em;text-indent:.8em;background-color:#E6E6E6}#sbo-rt-content ol.num{list-style-type:number;font-weight:normal}#sbo-rt-content ol.num li p{list-style-type:number;font-weight:normal}#sbo-rt-content ol.num li p,#sbo-rt-content ol.num li p.number{margin-top:.5em;margin-left:.2em;margin-bottom:.5em;text-indent:.002em}#sbo-rt-content .num-p{margin-top:.5em;margin-bottom:.5em;margin-left:0}#sbo-rt-content .bullet{margin-top:.7em;margin-bottom:.5em;text-indent:-.8em;margin-left:2em}#sbo-rt-content .credit{margin-top:.1em;margin-bottom:.1em;text-indent:-1.5em;margin-left:2em}#sbo-rt-content .box-caption{margin-top:.1em;margin-bottom:1em;font-size:125%;font-weight:bold;text-indent:.02em;text-align:left}#sbo-rt-content .example{font-family:Courier,Courier New,monospace;margin-top:.6em;margin-bottom:1em;margin-left:.1em;line-height:1.3em;font-size:small;border-top:.02em solid black;border-bottom:.02em solid black}#sbo-rt-content .image-l{margin-top:.8em;margin-left:1em;text-align:center}#sbo-rt-content .topbot{margin-top:.8em;margin-bottom:.5em;border-bottom:solid black .1em;border-top:solid black .1em;text-indent:.1em}#sbo-rt-content .uln{margin-top:.7em;margin-bottom:.7em;margin-left:2em}#sbo-rt-content .fdash{margin-top:.7em;margin-bottom:.7em;margin-left:2em}#sbo-rt-content .fdash1{margin-top:.7em;margin-bottom:.7em;margin-left:3em}#sbo-rt-content .tr{border-bottom:.1em solid black}#sbo-rt-content th{text-align:left}#sbo-rt-content td{padding-left:.1em;padding-top:0;padding-bottom:0;vertical-align:top;text-align:left}#sbo-rt-content .mark{background-color:#E6E6E6}#sbo-rt-content .pre1{font-family:Courier,Courier New,monospace;margin-top:.2em;margin-bottom:1em;margin-left:0;padding:.8em;background-color:#E6E6E6}#sbo-rt-content .pre2{font-family:Courier,Courier New,monospace;margin-top:.2em;margin-bottom:1em;margin-left:.2em}#sbo-rt-content .tab-thc{margin-top:.1em;margin-bottom:.1em;border-bottom:solid black .1em;text-align:center}#sbo-rt-content .tab-th{margin-top:.1em;border-bottom:solid black .1em;border-top:solid black .1em;text-align:left}#sbo-rt-content .author{margin-top:2.5em;margin-bottom:5.5em;text-align:center;font-size:120%}#sbo-rt-content .pub{margin-top:1.5em;margin-bottom:.5em;text-align:center}#sbo-rt-content .pub1{font-weight:bold;font-size:.9em;margin-top:.1em;margin-bottom:.5em;text-align:center}#sbo-rt-content .copy{margin-top:.9em;margin-bottom:.5em;text-indent:.02em}#sbo-rt-content .copy1{margin-top:.9em;margin-bottom:.2em;text-indent:.02em}#sbo-rt-content .copy2{margin-top:.2em;margin-bottom:.5em;text-indent:.02em}#sbo-rt-content .title{margin-top:1em;margin-bottom:.2em;font-size:125%;font-weight:bold;text-indent:.02em;text-align:center}#sbo-rt-content .noindent{margin-top:.5em;margin-bottom:.5em;text-indent:.1em}#sbo-rt-content .tab-para{margin-top:.1em;margin-bottom:.1em;margin-left:.1em;text-indent:0}#sbo-rt-content .tab-parai{margin-top:.1em;margin-bottom:.1em;margin-left:1.1em;text-indent:-1.1em}#sbo-rt-content .boxnp{margin-top:.5em;margin-bottom:.5em;text-indent:.1em}#sbo-rt-content .toc-intro{margin-top:.1em;margin-bottom:.5em;margin-left:1.5em;text-align:left}#sbo-rt-content .tocchap{margin-top:1.5em;margin-bottom:.4em;margin-left:3.4em;text-indent:-4em}#sbo-rt-content .toclev1{margin-top:.4em;margin-bottom:.4em;margin-left:1em}#sbo-rt-content .toclev2{margin-top:.4em;margin-bottom:.4em;margin-left:2.6em}#sbo-rt-content .toclev1a{margin-top:.4em;margin-bottom:.4em;margin-left:.5em}#sbo-rt-content .toc-index{margin-top:2em;margin-bottom:.4em;margin-left:.7em}#sbo-rt-content .indexmain{margin-top:.4em;margin-bottom:.2em;margin-left:.8em;text-indent:-.8em}#sbo-rt-content .indexsub{margin-top:.4em;margin-bottom:.2em;margin-left:1.7em;text-indent:-.7em}#sbo-rt-content .indexsubsub{margin-top:.4em;margin-bottom:.2em;font-style:italic;margin-left:3em;text-indent:-.9em}#sbo-rt-content figcaption{margin-top:.8em;margin-bottom:.5em;color:black;text-align:left;text-indent:.1em}#sbo-rt-content .subtitle{margin-top:.1em;margin-bottom:1em;font-weight:bold;font-size:150%;page-break-after:avoid;text-align:center}#sbo-rt-content .edition{margin-top:2em;margin-bottom:3em;font-weight:bold;font-size:150%;page-break-after:avoid;text-align:center}#sbo-rt-content .indent{margin-top:.5em;margin-left:.1em;margin-bottom:.5em;text-indent:1.5em}#sbo-rt-content .h2a{margin-top:.1em;margin-bottom:2em;font-weight:bold;font-size:190%;page-break-after:avoid;text-align:left}#sbo-rt-content figure>img{max-width:99%;max-height:99%}#sbo-rt-content figure{margin-top:1em;margin-bottom:1em;margin-left:.5em;margin-right:1.5em}#sbo-rt-content none{list-style-type:none}#sbo-rt-content a{text-decoration:none}#sbo-rt-content .footnote{font-size:.8em;margin-top:.1em;margin-bottom:.5em;margin-left:.8em}#sbo-rt-content .none{margin-top:.5em;margin-left:1em;margin-bottom:.5em;list-style-type:none}#sbo-rt-content div.image-p img{width:80%}#sbo-rt-content .image-p{page-break-before:always;text-align:center}#sbo-rt-content table{border-collapse:collapse;border-spacing:0;background:transparent;vertical-align:top;margin-top:.1em;margin-right:.1em;margin-bottom:.9em;margin-left:0;width:100%}#sbo-rt-content .tab-parar{margin-top:.1em;margin-bottom:.1em;text-indent:.1em;text-align:right}#sbo-rt-content .h2i{margin-top:1em;margin-bottom:2.1em;font-weight:bold;font-size:190%;border-bottom:solid .1em;page-break-after:avoid;text-align:left}#sbo-rt-content pre{overflow:auto;-ms-overflow:auto;-moz-overflow:auto;-webkit-overflow:auto;-ms-padding-bottom:5pt;-moz-padding-bottom:5pt;-webkit-padding-bottom:5pt}#sbo-rt-content .maroon{color:#BB2121}#sbo-rt-content .green{color:#005A00}#sbo-rt-content .green1{color:#48785D}#sbo-rt-content .navy{color:#504B72}#sbo-rt-content .ash{color:#666}#sbo-rt-content .blue{color:#408080}#sbo-rt-content .green3{color:#00A100}#sbo-rt-content .blue1{color:#0000B8}#sbo-rt-content .violet{color:#1A177D}#sbo-rt-content .pink{color:#A131A1}#sbo-rt-content .pink1{color:#A131A1}#sbo-rt-content .red{color:#800}#sbo-rt-content .blue3{color:#2E3192}#sbo-rt-content .red2{color:#B80000}#sbo-rt-content .green4{color:#269200}#sbo-rt-content .ash1{color:#666}#sbo-rt-content .ash2{color:#33484A}#sbo-rt-content .red2{color:#640000}#sbo-rt-content .ash3{color:#7D8F29}#sbo-rt-content .red5{color:#BD7B00}#sbo-rt-content .maroon1{color:#B66600}#sbo-rt-content .blue5{color:#1F3BFF}#sbo-rt-content .red6{color:#B68}#sbo-rt-content .green7{color:#14B600}#sbo-rt-content .maroon2{color:#B66600}#sbo-rt-content .pink2{color:#AC21FF}#sbo-rt-content .pink3{color:#AC21FF}#sbo-rt-content .lighgreen{color:#5FA100}#sbo-rt-content .lighblue{color:#269271}#sbo-rt-content .darkmaroon{color:#269271}#sbo-rt-content .maroon5{color:#A10000}#sbo-rt-content .blue6{color:#0000B9}#sbo-rt-content .marko{background-color:#FAF9CE}#sbo-rt-content .green5{color:#1C8B43}#sbo-rt-content .colork1{color:#136433;font-weight:bold}#sbo-rt-content .colork2{color:#504C72}#sbo-rt-content .colork3{color:#51785D}#sbo-rt-content .colork4{color:#303192}#sbo-rt-content .colork5{color:#955744}#sbo-rt-content .colork6{color:#5C70BA}#sbo-rt-content .colork7{color:#487864}#sbo-rt-content .colork8{color:#5C5778}#sbo-rt-content .colork9{color:#666}#sbo-rt-content .colork10{color:#48785D}#sbo-rt-content .colork11{color:#BC654D}#sbo-rt-content .colork12{color:#3E8185}#sbo-rt-content .colork13{color:#C62425}#sbo-rt-content .colork14{color:#1D8C43}#sbo-rt-content .colork15{color:#0D8140}#sbo-rt-content .colork16{color:#BB2425}#sbo-rt-content .colork17{color:#985744}#sbo-rt-content .colork18{color:#6C8896}#sbo-rt-content .colork19{color:#2A2C80}#sbo-rt-content .colork20{color:#BD2425}#sbo-rt-content .redk1{color:#EE1C25}#sbo-rt-content .colork21{color:#2A2C77}#sbo-rt-content .colork22{color:#955744}#sbo-rt-content .colork23{color:#BC6561}#sbo-rt-content .colork24{color:#BE7D2B}#sbo-rt-content .colork25{color:#8E7C5D}#sbo-rt-content .colork26{color:#7C5778}#sbo-rt-content .colork27{color:#9D1C1F}#sbo-rt-content .colork28{color:#AA5744}#sbo-rt-content .colork29{color:#C59861}#sbo-rt-content .grayk1{color:#C0908E}#sbo-rt-content .pd_green{color:#48785d}#sbo-rt-content .dark-green{color:#146333}#sbo-rt-content .mark1{background-color:#faf9ce}#sbo-rt-content .mark{background-color:#faf9ce}#sbo-rt-content .pd_ash{color:#666}#sbo-rt-content .pd_blue7{color:#6c8896}#sbo-rt-content .pd_blue1{color:#504b72}#sbo-rt-content .pd_red{color:#965744}#sbo-rt-content .pd_red2{color:#bb654e}#sbo-rt-content .pd_red5{color:#ed1c24}#sbo-rt-content .pd_blue5{color:#2e3192}#sbo-rt-content .pd_green4{color:#269200}#sbo-rt-content .pd_green5{color:#1c8b43}#sbo-rt-content .pd_blue3{color:#2c2c78}#sbo-rt-content .pd_orange{color:#c49847}</style><script type="text/javascript" async="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/cool-2.1.15.min.js.download"></script><script type="text/javascript" async="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/ec.js.download"></script><script type="text/javascript" async="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/analytics.js.download"></script><script type="text/javascript" async="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/f.txt"></script><script type="text/javascript" async="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/js"></script><script crossorigin="anonymous" integrity="sha256-NiDMmov61Y536X/eLXLiDGzFVFmNLtPyu4b5aFB54ks=" type="text/javascript" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/appcues.main.11e38ef4746fd64ab30c11794299d10b30bcb704.js.download" async=""></script><script async="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/gtm.js.download"></script><script> // <![CDATA[
    var g = {
      position_cache: {
        
          "chapter": "/api/v1/book/9780136702726/chapter/ch10.xhtml",
          "book_id": "9780136702726",
          "chapter_uri": "ch10.xhtml",
          "position": 27.4567491080775,
          "user_uuid": "66943332-5511-462c-876e-5d5b720c7edf",
          "next_chapter_uri": "/library/view/ruby-on-rails/9780136702726/ch11.xhtml"
        
      },
      title: "Ruby on Rails Tutorial, 6th Edition",
      author_list: "Michael Hartl",
      format: "book",
      source: "application/epub+zip",
      is_system_book: true,
      is_public: false,
      loaded_from_server: true,
      allow_scripts: false,
      has_mathml: true
    };
    // ]]></script><script src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/modernizr.8e35451ddb64.js.download"></script><script>
    
      

      
        
          window.PUBLIC_ANNOTATIONS = true;
        
      

      window.MOBILE_PUBLIC_ANNOTATIONS = false;

    

    
      window.PRIVACY_CONTROL_OVERRIDE = false;
    

      window.PRIVACY_CONTROL_SWITCH = true;

      window.PUBLISHER_PAGES = true;

      window.SBO = {
        "constants": {
          "SITB_ENDPOINT": "/api/v2/sitb/",
          "SEARCH_SELECT_ENDPOINT": "https://learning.oreilly.com/api/v2/search/select/",
          "ENABLE_ONLINE_TRAINING": true
        }
      };
  </script><link rel="canonical" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch10.xhtml"><meta name="description" content=" Chapter 10 Updating, Showing, and Deleting Users In this chapter, we complete the REST actions for the Users resource (Table 7.1) by adding edit, update, index ... "><meta property="og:title" content="Chapter 10. Updating, Showing, and Deleting Users"><meta itemprop="isPartOf" content="/library/view/ruby-on-rails/9780136702726/"><meta itemprop="name" content="Chapter 10. Updating, Showing, and Deleting Users"><meta property="og:url" itemprop="url" content="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch10.xhtml"><meta property="og:site_name" content="Safari"><meta property="og:image" itemprop="thumbnailUrl" content="https://learning.oreilly.com/library/cover/9780136702726/"><meta property="og:description" itemprop="description" content=" Chapter 10 Updating, Showing, and Deleting Users In this chapter, we complete the REST actions for the Users resource (Table 7.1) by adding edit, update, index ... "><meta itemprop="inLanguage" content="en"><meta itemprop="publisher" content="Addison-Wesley Professional"><meta property="og:type" content="book"><meta property="og:book:isbn" itemprop="isbn" content="9780136702726"><meta property="og:book:author" itemprop="author" content="Michael Hartl"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@OReillyMedia"><style type="text/css" id="font-styles" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: &lt;%= font_size %&gt; !important; }"></style><style type="text/css" id="font-family" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: &lt;%= font_family %&gt; !important; }"></style><style type="text/css" id="column-width" data-template="#sbo-rt-content { max-width: &lt;%= column_width %&gt;% !important; margin: 0 auto !important; }"></style><noscript><meta http-equiv="refresh" content="0; url=/library/no-js/" /></noscript><script>
    var dataLayer = window.dataLayer || [];

    
      window.medalliaVsgUserIdentifier = '66943332-5511-462c-876e-5d5b720c7edf';
      dataLayer.push({userIdentifier: '66943332-5511-462c-876e-5d5b720c7edf'});
      dataLayer.push({loggedIn: 'yes'});

      
        window.medalliaVsgAccountIdentifier = 'ba5f3401-307d-4b66-90a6-a97047c63525';
        

        window.medalliaVsgIsIndividual = true;
        
          
          dataLayer.push({learningAccountType: 'free trial'});
          
        

        
      
    

    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5P4V6Z');
    (function () {
      var VERSION = 'V1.1';
      var AUTHOR = 'Awwad';
      if (!window.GtmHelper)
        window.GtmHelper = function () {
          var instance = this;
          var loc = document.location;
          this.version = VERSION;
          this.author = AUTHOR;
          this.readCookie = function (name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
              var c = ca[i];
              while (c.charAt(0) == ' ') c = c.substring(1, c.length);
              if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
          };
          this.createCookie = function (name, value, days, cookieDomain) {
            var domain = "";
            var expires = "";

            if (days) {
              var date = new Date();
              date.setTime(date.getTime() + Math.ceil(days * 24 * 60 * 60 * 1000));
              var expires = " expires=" + date.toGMTString() + ";";
            }

            if (typeof (cookieDomain) != 'undefined')
              domain = " domain=" + cookieDomain + "; ";

            document.cookie = name + "=" + value + ";" + expires + domain + "path=/";
          };

          this.isDuplicated = function (currentTransactionId) {
            // the previous transaction id:
            var previousTransIdValue = this.readCookie("previousTransId");

            if (currentTransactionId === previousTransIdValue) {
              return true; // Duplication
            } else {
              return false;
            }
          };
        }
    })()
  </script><script defer="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/vendor.3eecedff6f59.js.download"></script><script defer="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/reader.772cf1e31d6c.js.download"></script><iframe src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/saved_resource.html"></iframe><iframe src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/saved_resource(3).html"></iframe><iframe src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/saved_resource(4).html"></iframe><link rel="stylesheet" type="text/css" integrity="sha256-q9sKb2HpA5fJjN1cK9LjLaEXff5ix81Rv1Y3xJFptPE=" crossorigin="anonymous" href="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/container.11e38ef4746fd64ab30c11794299d10b30bcb704.css"><iframe src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/saved_resource(5).html"></iframe><script src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/f(1).txt"></script><script async="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/MathJax.js.download"></script><style id="annotator-dynamic-style">.annotator-adder, .annotator-outer, .annotator-notice {
  z-index: 100019;
}
.annotator-filter {
  z-index: 100009;
}</style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
</style><style type="text/css" id="kampyleStyle">.noOutline{outline: none !important;}.wcagOutline:focus{outline: 1px dashed #595959 !important;outline-offset: 2px !important;transition: none !important;}</style></head>


<body class="reading sidenav  scalefonts subscribe-panel library nav-collapsed"><div id="MathJax_Message" style="display: none;"></div>

    
  <noscript> 
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
            height="0" width="0"
            style="display:none;visibility:hidden">
    </iframe>
  </noscript>



    
      <div class="working hide" role="status">
        <div class="working-image"></div>
      </div>
      <div class="sbo-site-nav">
        

  


<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#container" class="skip">Skip to content</a><header class="topbar t-topbar"><nav role="navigation" class="js-site-nav"><ul class="topnav"><li><a href="https://learning.oreilly.com/home/" class="l0 nav-icn"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M11.738 14H9.254v-3.676a.617.617 0 0 0-.621-.613H7.39a.617.617 0 0 0-.62.613V14H4.284a.617.617 0 0 1-.622-.613V10.22c0-.327.132-.64.367-.87l3.547-3.493a.627.627 0 0 1 .875 0l3.54 3.499c.234.229.366.54.367.864v3.167a.617.617 0 0 1-.62.613zM7.57 2.181a.625.625 0 0 1 .882 0l5.77 5.692-.93.92-5.28-5.209-5.28 5.208-.932-.919 5.77-5.692z"></path></svg><span>Home</span></a></li><li class="search"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="t-search-nav trigger nav-icn l0" data-dropdown-selector=".searchbox"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>search icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M31.3 0C20.9 0 12.5 8.4 12.5 18.8 12.5 22.5 13.6 25.9 15.4 28.8L1.2 42.9C-0.4 44.5-0.4 47.2 1.2 48.8 2 49.6 3.1 50 4.2 50 5.2 50 6.3 49.6 7.1 48.8L21.2 34.6C24.1 36.5 27.5 37.5 31.3 37.5 41.6 37.5 50 29.1 50 18.8 50 8.4 41.6 0 31.3 0ZM31.3 31.3C24.4 31.3 18.8 25.6 18.8 18.8 18.8 11.9 24.4 6.3 31.3 6.3 38.1 6.3 43.8 11.9 43.8 18.8 43.8 25.6 38.1 31.3 31.3 31.3Z"></path></g></svg><span>Search</span></a></li><li class="usermenu dropdown"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="trigger l0 nav-icn nav-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>navigation arrow</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M0.1 12.5L9.7 3.1C9.8 3 9.9 3 10 3 10.1 3 10.2 3 10.3 3.1L19.9 12.5C20 12.5 20 12.6 20 12.8 20 12.9 20 13 19.9 13L17 15.9C16.9 16 16.8 16 16.7 16 16.5 16 16.4 16 16.4 15.9L10 9.7 3.6 15.9C3.6 16 3.5 16 3.3 16 3.2 16 3.1 16 3 15.9L0.1 13C0 12.9 0 12.8 0 12.7 0 12.7 0 12.6 0.1 12.5Z"></path></g></svg><span>Expand Nav</span></a><div class="drop-content"><ul><li class="flyout-parent"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="l1 nav-icn "><!--?xml version="1.0" encoding="UTF-8"?--><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M8,8 C6.34321755,8 5.00013,6.65691245 5.00013,5.00013 C5.00013,3.34334755 6.34321755,2.00026001 8,2.00026001 C9.65678245,2.00026001 10.99987,3.34334755 10.99987,5.00013 C10.99987,6.65691245 9.65678245,8 8,8 Z M2.33024571,11.3523547 L2.33774538,11.3523547 C3.7622187,9.70968996 5.82947484,8.76608166 8.00374984,8.76608166 C10.1780248,8.76608166 12.245281,9.70968996 13.6697543,11.3523547 C13.8892083,11.6177474 14.0062813,11.9530021 13.99974,12.2973138 L13.99974,13.99974 L2.00026001,13.99974 L2.00026001,12.2973138 C1.99371867,11.9530021 2.11079172,11.6177474 2.33024571,11.3523547 Z" id="path-1"></path></svg><span>Your O'Reilly</span></a><ul class="flyout"><li><a href="https://learning.oreilly.com/profile/" class="l2 nav-icn"><span>Profile</span></a></li><li><a href="https://learning.oreilly.com/history/" class="l2 nav-icn"><span>History</span></a></li><li><a href="https://learning.oreilly.com/playlists/" class="l2 nav-icn"><span>Playlists</span></a></li><li><a href="https://learning.oreilly.com/u/66943332-5511-462c-876e-5d5b720c7edf/" class="l2 nav-icn"><span>Highlights</span></a></li></ul></li><li class="flyout-parent"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="l1 nav-icn "><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M11.564 2.263l2.172 2.174c.17.168.264.397.264.636V11a.6.6 0 0 1-.6.6h-.6V6.2h-6V2.6a.6.6 0 0 1 .6-.6h3.527c.239 0 .468.095.637.263zM2.6 14a.6.6 0 0 1-.6-.6V6.8a.6.6 0 0 1 .6-.6h1.903a1.2 1.2 0 0 1 .849.352L6.2 7.4H11a.6.6 0 0 1 .6.6v5.4a.6.6 0 0 1-.6.6H2.6zM11 5h1.8L11 3.2V5z"></path></svg><span>Featured</span></a><ul class="flyout"><li><a href="https://learning.oreilly.com/featured/navigating-21st-century/" class="l2 nav-icn"><span>Navigating Change</span></a></li><li><a href="https://learning.oreilly.com/recommendations/" class="l2 nav-icn"><span>Recommended</span></a></li></ul></li><li class="flyout-parent"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="l1 nav-icn "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>queue icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 29.2C25.4 29.2 25.8 29.1 26.1 28.9L48.7 16.8C49.5 16.4 50 15.5 50 14.6 50 13.7 49.5 12.8 48.7 12.4L26.1 0.3C25.4-0.1 24.6-0.1 23.9 0.3L1.3 12.4C0.5 12.8 0 13.7 0 14.6 0 15.5 0.5 16.4 1.3 16.8L23.9 28.9C24.2 29.1 24.6 29.2 25 29.2ZM7.3 14.6L25 5.2 42.7 14.6 25 24 7.3 14.6ZM48.7 22.4L47.7 21.9 25 34.2 2.3 21.9 1.3 22.4C0.5 22.9 0 23.7 0 24.7 0 25.6 0.5 26.5 1.3 26.9L23.9 39.3C24.2 39.5 24.6 39.6 25 39.6 25.4 39.6 25.8 39.5 26.1 39.3L48.7 26.9C49.5 26.5 50 25.6 50 24.7 50 23.7 49.5 22.9 48.7 22.4ZM48.7 32.8L47.7 32.3 25 44.6 2.3 32.3 1.3 32.8C0.5 33.3 0 34.1 0 35.1 0 36 0.5 36.9 1.3 37.3L23.9 49.7C24.2 49.9 24.6 50 25 50 25.4 50 25.8 49.9 26.1 49.7L48.7 37.3C49.5 36.9 50 36 50 35.1 50 34.1 49.5 33.3 48.7 32.8Z"></path></g></svg><span>Explore</span></a><ul class="flyout"><li><a href="https://learning.oreilly.com/topics/" class="l2 nav-icn"><span>All Topics</span></a></li><li><a href="https://learning.oreilly.com/search/?query=&amp;extended_publisher_data=true&amp;highlight=true&amp;include_assessments=false&amp;include_case_studies=true&amp;include_courses=true&amp;include_orioles=true&amp;include_playlists=true&amp;include_collections=true&amp;include_notebooks=true&amp;is_academic_institution_account=false&amp;source=user&amp;formats=book&amp;sort=publication_date&amp;facet_json=true&amp;page=0" class="l2 nav-icn"><span>Early Releases</span></a></li><li><a href="https://learning.oreilly.com/playlists/discover/" class="l2 nav-icn"><span>Shared Playlists</span></a></li><li><a href="https://learning.oreilly.com/search/?query=&amp;extended_publisher_data=true&amp;highlight=true&amp;include_assessments=false&amp;include_case_studies=true&amp;include_courses=true&amp;include_orioles=true&amp;include_playlists=true&amp;include_collections=true&amp;include_notebooks=true&amp;is_academic_institution_account=false&amp;source=user&amp;formats=book&amp;formats=case%20study&amp;formats=learning%20path&amp;formats=live%20online%20training&amp;formats=notebook&amp;formats=oriole&amp;formats=video&amp;sort=popularity&amp;facet_json=true&amp;page=0&amp;collection_type=expert" class="l2 nav-icn"><span>Most Popular Titles</span></a></li><li><a href="https://learning.oreilly.com/resource-centers/" class="l2 nav-icn"><span>Resource Centers</span></a></li></ul></li><li class="flyout-parent"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="l1 nav-icn "><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M12.8 3.2A1.2 1.2 0 0 1 14 4.4v8.4a1.2 1.2 0 0 1-1.2 1.2H3.2A1.2 1.2 0 0 1 2 12.8V4.4a1.2 1.2 0 0 1 1.2-1.2h1.2V2h1.2v1.2h4.8V2h1.2v1.2h1.2zm-9.6 9.6h9.6V6.2H3.2v6.6zM8 9.5a1.35 1.35 0 1 1 0-2.7 1.35 1.35 0 0 1 0 2.7zm2.7 2.148v.552H5.3v-.552c0-.321.124-.634.355-.858a3.358 3.358 0 0 1 4.69 0c.23.224.355.537.355.858z"></path></svg><span>Attend</span></a><ul class="flyout"><li><a href="https://learning.oreilly.com/live-training/" class="l2 nav-icn"><span>Live Trainings</span></a></li><li><a href="https://learning.oreilly.com/featured/architectural-katas" class="l2 nav-icn"><span>Architectural Katas</span></a></li><li><a href="https://learning.oreilly.com/featured/strata/" class="l2 nav-icn"><span>Strata</span></a></li><li><a href="https://learning.oreilly.com/featured/oscon/" class="l2 nav-icn"><span>Open Source</span></a></li><li><a href="https://learning.oreilly.com/featured/infrastructure-ops/" class="l2 nav-icn"><span>Infra &amp; Ops</span></a></li><li><a href="https://learning.oreilly.com/featured/software-architecture/" class="l2 nav-icn"><span>Software Arch</span></a></li></ul></li><li class="flyout-parent"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="l1 nav-icn "><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M11.6467109,4.35328907 L14.7964612,7.51003884 C15.0678463,7.78304342 15.0678463,8.22395603 14.7964612,8.49696061 L11.6467109,11.6467109 L10.6597892,10.6597892 L13.3055794,8 L10.6597892,5.34021084 L11.6467109,4.35328907 Z M4.35328907,11.6467109 L1.20353875,8.48996116 C0.932153749,8.21695658 0.932153749,7.77604397 1.20353875,7.50303939 L4.35328907,4.35328907 L5.34021084,5.34021084 L2.69442057,8 L5.34021084,10.6597892 L4.35328907,11.6467109 Z M5.84417089,11.4997226 L8.67194674,4.50027742 L10.1838269,4.50027742 L7.35605105,11.4997226 L5.84417089,11.4997226 Z" id="Mask"></path></svg><span>Interact</span></a><ul class="flyout"><li><a href="https://learning.oreilly.com/scenarios/?classification=content-scenario" class="l2 nav-icn"><span>Scenarios</span></a></li><li><a href="https://learning.oreilly.com/scenarios/?classification=sandbox-scenario" class="l2 nav-icn"><span>Sandboxes</span></a></li><li><a href="https://learning.oreilly.com/interactive/?classification=jupyter-notebook" class="l2 nav-icn"><span>Jupyter Notebooks</span></a></li></ul></li><li><a href="https://learning.oreilly.com/answers/" class="l1 nav-icn "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2.31032699,3.75609006 C4.65421571,1.41371359 8.45302454,1.41472092 10.7955702,3.75860838 C13.1381158,6.10249583 13.1369405,9.90130261 10.7930518,12.243847 C8.44916311,14.5863913 4.65018639,14.5852161 2.30780867,12.2413286 C-0.0346204845,9.89749489 -0.0334929936,6.09853298 2.31032699,3.75609006 Z M8.8198605,4.98016308 C7.34193969,3.86924672 5.23410194,3.98609692 3.88914868,5.33104946 C3.12814393,6.09032122 2.72818176,7.13880077 2.79015179,8.21201133 C2.79115912,8.23064692 2.79233434,8.24928252 2.79350956,8.26791811 L2.79350956,8.26791811 C2.83179539,8.8307976 2.9944077,9.37404287 3.26947292,9.86201677 L3.26947292,9.86201677 L2.77621706,11.7027432 C2.7699968,11.7259241 2.77662063,11.7506624 2.79359185,11.7676337 C2.8105631,11.7846049 2.83530144,11.7912287 2.85848233,11.7850085 L2.85848233,11.7850085 L4.69400524,11.2922565 C5.26306363,11.6167344 5.90703177,11.786885 6.56209849,11.7858479 C8.64827865,11.7858479 10.3395879,10.094542 10.3395879,8.00836292 C10.3405204,6.84135608 9.80105674,5.73967784 8.87862141,5.02482134 L8.87862141,5.02482134 L8.82825492,4.98654283 Z M13.7933062,2 C14.7073496,2.00009863 15.4482759,2.74110484 15.4482759,3.65514822 C15.4482759,4.32460943 15.0449926,4.92814782 14.4264842,5.18432286 C13.8079757,5.44049789 13.096053,5.29885769 12.6226979,4.82545158 C12.1493429,4.35204547 12.0077795,3.64010743 12.2640213,3.02162665 C12.5202631,2.40314587 13.123845,1.99992776 13.7933062,2 Z"></path></svg><span>Answers</span></a></li><li><a href="https://learning.oreilly.com/certifications/" class="l1 nav-icn "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M12.912 9.18L14 8.014l-1.088-1.18a.304.304 0 01-.075-.268L13.195 5l-1.535-.463a.313.313 0 01-.194-.194l-.462-1.537-1.565.358c-.09.03-.194 0-.269-.074L8.007 2 6.845 3.09a.303.303 0 01-.269.074l-1.565-.358-.462 1.537a.313.313 0 01-.194.194L2.82 5l.358 1.567a.26.26 0 01-.075.269L2 8.015l1.088 1.164c.075.075.09.18.075.269l-.358 1.567 1.535.463c.09.03.164.104.194.194l.462 1.537 1.565-.358c.015 0 .045-.015.075-.015.075 0 .15.03.209.074L8.007 14l1.163-1.09a.303.303 0 01.269-.074l1.565.358.462-1.537a.313.313 0 01.194-.194L13.195 11l-.358-1.567a.338.338 0 01.075-.254zm-6.046 1.37L4.41 8.26l1.16-1.244 1.767 1.649L10.4 5.6l1.202 1.202-4.242 4.243-.495-.495z"></path></svg><span>Certifications</span></a></li><li><a href="https://learning.oreilly.com/preferences/" class="l1 nav-icn "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"></path></g></svg><span>Settings</span></a></li><li><a href="https://learning.oreilly.com/public/support/" class="l1 nav-icn "><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M7.363 6.656a2.692 2.692 0 0 1-2.681-2.703c0-1.493 1.2-2.703 2.681-2.703a2.692 2.692 0 0 1 2.682 2.703c0 1.493-1.2 2.703-2.682 2.703zm4.023 2.027c-1.852 0-3.352 1.513-3.352 3.379H2v-1.534c-.006-.31.099-.612.295-.852a6.666 6.666 0 0 1 9.09-.993zm-.543.676h1.12v.304c.003.284.16.543.408.676a.766.766 0 0 0 .77 0l.303-.176.556.966-.302.176a.772.772 0 0 0-.362.676v.08a.772.772 0 0 0 .362.677l.302.21-.556.965-.302-.175a.766.766 0 0 0-.771 0 .778.778 0 0 0-.409.675v.352h-1.106v-.372a.778.778 0 0 0-.409-.676.766.766 0 0 0-.77 0l-.303.176-.556-.912.302-.176a.772.772 0 0 0 .362-.676v-.04-.04a.772.772 0 0 0-.362-.676l-.302-.176.556-.966.289.155a.766.766 0 0 0 .77 0 .778.778 0 0 0 .41-.676V9.36zm1.562 2.703c0-.271-.108-.531-.3-.722a1.001 1.001 0 0 0-.72-.292 1.01 1.01 0 0 0-.992 1.023 1.01 1.01 0 0 0 1.01 1.004 1.01 1.01 0 0 0 1.002-1.013z"></path></svg><span>Support</span></a></li><li><a href="https://get.oreilly.com/email-signup.html" class="l1 nav-icn " target="&quot;_blank&quot;"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M11.564 2.263l2.172 2.174c.17.168.264.397.264.636V11a.6.6 0 0 1-.6.6h-.6V6.2h-6V2.6a.6.6 0 0 1 .6-.6h3.527c.239 0 .468.095.637.263zM2.6 14a.6.6 0 0 1-.6-.6V6.8a.6.6 0 0 1 .6-.6h1.903a1.2 1.2 0 0 1 .849.352L6.2 7.4H11a.6.6 0 0 1 .6.6v5.4a.6.6 0 0 1-.6.6H2.6zM11 5h1.8L11 3.2V5z"></path></svg><span>Newsletters</span></a></li><li><a href="https://learning.oreilly.com/accounts/logout/" class="l1 nav-icn "><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2.613 12.63A.607.607 0 0 1 2 12.03V3.602C2 3.269 2.274 3 2.613 3h5.515v1.204H3.226v7.223h4.902v1.203H2.613zM5.677 9.02V6.611h4.903V4.926a.301.301 0 0 1 .19-.274.31.31 0 0 1 .33.063l2.722 2.673a.594.594 0 0 1 0 .849L11.1 10.909a.31.31 0 0 1-.331.063.301.301 0 0 1-.19-.274V9.02H5.677z"></path></svg><span>Sign Out</span></a></li></ul></div></li></ul></nav></header>



      </div>
      <div id="container" class="application" style="height: auto;">
        
          <div class="nav-container clearfix">
            


            
            
          </div>

          

  <div class="js-toc">
    
      <div class="sbo-reading-menu sbo-menu-top"><section class="sbo-toc-container toc-menu"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="sbo-toc-thumb"><span class="sbo-title ss-list"><h1><div class="visuallyhidden">Table of Contents for </div>
      
      Ruby on Rails Tutorial, 6th Edition
      
    </h1></span></a><div class="toc-contents" style="max-height: 0px;">
  <div class="sbo-toc">
    <button type="button" class="sbo-toc-thumb close"><div class="visuallyhidden">Close</div></button>
      <section class="ios-app-teaser">
        <ul>
            <li><a class="js-toc-link toc-link" href="https://itunes.apple.com/gb/app/safari-queue-library-over/id881697395?mt=8" role="button">Install App</a></li>
            <li><a class="js-toc-link toc-link" href="safaridetail://9780136702726" role="button">Open in App</a></li>
        </ul>
      </section>
      <div class="sbo-book-meta">
        
        <span class="cover">
         <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/">
          <img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/saved_resource" alt="Cover image for Ruby on Rails Tutorial, 6th Edition" height="184" width="141">
        </a>
        </span>
        <span class="title">
          
            
                <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/publisher/addison-wesley-professional/">
                  <img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/addison-wesley.png" class="publisher-logo video" alt="publisher logo">
                </a>
            
          

          <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/">Ruby on Rails Tutorial, 6th Edition</a>
        </span>
        
        <span class="authors">by Michael Hartl</span>
        

        
        <span class="publishers t-publishers">Published by
          <!-- Show publisher page link if publisher pages switch is on -->
          
            <a class="t-publisher-link toc-link js-toc-link" href="https://learning.oreilly.com/library/publisher/addison-wesley-professional/">
              Addison-Wesley Professional</a>, 2020
          
        </span>
        

    

    </div>
  <ol class="tocList">
    
    
    
     

     <li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/cover.xhtml">
        Cover Page <span class="minutes">(01:09 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/pref00.xhtml">
        About This eBook <span class="minutes">(01:09 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/halftitle.xhtml">
        Halftitle Page <span class="minutes">(01:09 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/title.xhtml">
        Title Page <span class="minutes">(01:09 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/copy.xhtml">
        Copyright Page <span class="minutes">(02:18 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/toc.xhtml#toc">
        Contents <span class="minutes">(05:45 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/pref02.xhtml#pref02">
        Foreword <span class="minutes">(01:09 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/pref03.xhtml#pref03">
        Acknowledgments <span class="minutes">(01:09 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/pref04.xhtml#pref04">
        About the Author <span class="minutes">(01:09 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch01.xhtml#ch01">
        Chapter 1. From Zero to Deploy <span class="minutes">(77:03 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch02.xhtml#ch02">
        Chapter 2. A Toy App <span class="minutes">(50:36 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#ch03">
        Chapter 3. Mostly Static Pages <span class="minutes">(63:15 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch04.xhtml#ch04">
        Chapter 4. Rails-Flavored Ruby <span class="minutes">(57:30 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05">
        Chapter 5. Filling in the Layout <span class="minutes">(60:57 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#ch06">
        Chapter 6. Modeling Users <span class="minutes">(67:51 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch07.xhtml#ch07">
        Chapter 7. Sign Up <span class="minutes">(79:21 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch08.xhtml#ch08">
        Chapter 8. Basic Login <span class="minutes">(66:42 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch09.xhtml#ch09">
        Chapter 9. Advanced Login <span class="minutes">(52:54 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1 currently-reading">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch10.xhtml#ch10">
        Chapter 10. Updating, Showing, and Deleting Users <span class="minutes">(73:36 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch11.xhtml#ch11">
        Chapter 11. Account Activation <span class="minutes">(55:12 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch12.xhtml#ch12">
        Chapter 12. Password Reset <span class="minutes">(48:18 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch13.xhtml#ch13">
        Chapter 13. User Microposts <span class="minutes">(106:57 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch14.xhtml#ch14">
        Chapter 14. Following Users <span class="minutes">(78:12 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/index.xhtml#index">
        Index <span class="minutes">(55:12 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/credits.xhtml#credits">
        Credits <span class="minutes">(19:33 mins)</span>
       </a>
      
        
      
    
    
     

     </li><li class="toc-level1">
        
        <a class="js-toc-link toc-link" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch01_images.xhtml#ch01_images">
        Code Snippets <span class="minutes">(09:12 mins)</span>
       </a>
      
        
      
   </li></ol>
 </div>



</div></section></div>

    

    <div class="interface-controls interface-controls-top">
      <ul class="interface-control-btns js-bitlist js-reader">
        <li class="js-search-in-archive search-in-archive t-search-in-archive"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" title="Search in archive" class="js-search-controls search-controls" onclick="window.Appcues.track(&#39;SearchBook_HeronBook&#39;)"><span class="icon">Search in book...</span></a><form class="search-archive-bar js-search-form"><input type="search" name="query" placeholder="Search inside this book..." autocomplete="off"></form><div class="search-archive-results"><div class="js-sitb-results-region"></div></div></li><li class="queue-control"><div class="js-content-uri" data-content-uri="/api/v1/book/9780136702726/chapter/ch10.xhtml"><div class="js-collections-dropdown collections-dropdown menu-bit-cards" onclick="window.Appcues.track(&#39;AddPlaylist_HeronBook&#39;)"><div data-reactroot="" class="menu-dropdown-wrapper js-menu-dropdown-wrapper align-right"><img class="hidden" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/ajax-transp.gif" alt="loading spinner"><div class="menu-control"><div class="control "><div class="js-playlists-menu"><button class="js-playlist-icon"><svg class="icon-add-to-playlist-sml" viewBox="0 0 16 14" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill-rule="nonzero" fill="#000000"><g transform="translate(-1.000000, 0.000000)"><rect x="5" y="0" width="12" height="2"></rect><title>Playlists</title><path d="M4.5,14 C6.43299662,14 8,12.4329966 8,10.5 C8,8.56700338 6.43299662,7 4.5,7 C2.56700338,7 1,8.56700338 1,10.5 C1,12.4329966 2.56700338,14 4.5,14 Z M2.5,10 L4,10 L4,8.5 L5,8.5 L5,10 L6.5,10 L6.5,11 L5,11 L5,12.5 L4,12.5 L4,11 L2.5,11 L2.5,10 Z"></path><circle cx="2" cy="5" r="1"></circle><circle cx="1.94117647" cy="1" r="1"></circle><rect x="5" y="4" width="12" height="2"></rect><rect x="9" y="8" width="8" height="2"></rect><rect x="9" y="12" width="8" height="2"></rect></g></g></g></svg><div class="js-playlist-addto-label">Add&nbsp;To</div></button></div></div></div></div></div></div></li><li class="js-font-control-panel font-control-activator"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" data-push-state="false" id="font-controls" title="Change font size" aria-label="Change font size" onclick="window.Appcues.track(&#39;ChangeFont_HeronBook&#39;)"><span class="icon">Toggle Font Controls</span></a></li><li class="dropdown sharing-controls"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="trigger" data-push-state="false" title="Share" aria-label="Share" onclick="window.Appcues.track(&#39;Share_HeronBook&#39;)"><i class="fa fa-share"></i></a><ul class="social-sharing dropdown-menu"><li class="currently-reading"><a class="twitter share-button t-twitter" target="_blank" aria-label="Share this section on Twitter" title="Share this section on Twitter" href="https://twitter.com/share?url=https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch10.xhtml&amp;text=Ruby%20on%20Rails%20Tutorial%2C%206th%20Edition&amp;via=OReillyMedia"><span>Twitter</span></a></li><li class="currently-reading"><a class="facebook share-button t-facebook" target="_blank" aria-label="Share this section on Facebook" title="Share this section on Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch10.xhtml"><span>Facebook</span></a></li><li class="currently-reading"><a class="googleplus share-button t-googleplus" target="_blank" aria-label="Share this secton on Google Plus" title="Share this secton on Google Plus" href="https://plus.google.com/share?url=https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch10.xhtml"><span>Google Plus</span></a></li><li class="currently-reading"><a class="email share-button t-email" aria-label="Share this section via email" title="Share this section via email" href="mailto:?subject=Safari:%20Chapter%2010.%20Updating%2C%20Showing%2C%20and%20Deleting%20Users&amp;body=https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch10.xhtml%0D%0Afrom%20Ruby%20on%20Rails%20Tutorial%2C%206th%20Edition%0D%0A"><span>Email</span></a></li></ul></li><!-- endif request.user.is_authenticated -->
      </ul>
    </div>

      
          
      

    <section role="document"><script src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/48743.js.download"></script>
<script>
  var userId = "66943332-5511-462c-876e-5d5b720c7edf";

  var userObject = {
    firstName: "Trần",
    segment: "Trial",
    admin: "False",
    profileCreatedOn: "2020-12-01",
    academic: ""
  };
  window.Appcues.identify(userId, userObject);
  window.Appcues.page();

  setTimeout(function () {
    window.Appcues.track('ViewingBook_HeronBook')
  }, 20000);
</script>


	  <div class="t-sbo-prev sbo-prev sbo-nav-top">
  
    
      
        <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch04.xhtml" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">Chapter 4. Rails-Flavored Ruby</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-top">
  
    
      
        <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">Chapter 6. Modeling Users</div>
        </a>
    
  
  </div>



<div id="sbo-rt-content"><div class="annotator-wrapper"><section epub:type="chapter">
<h2 class="h2" id="ch05"><span epub:type="pagebreak" id="page_201"></span>Chapter 5</h2>
<h2 class="h2a">Filling in the Layout</h2>
<p class="noindent">In the process of taking a brief tour of Ruby in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch04.xhtml#ch04">Chapter 4</a>, we learned about including the application stylesheet into the sample application (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch04.xhtml#sec4_1">Section 4.1</a>), but (as noted in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch04.xhtml#sec4_3_4">Section 4.3.4</a>) the stylesheet doesn’t yet contain any CSS. In this chapter, we’ll start filling in the custom stylesheet by incorporating a CSS framework into our application, and then we’ll add some custom styles of our own.<sup><a id="ch05fn1a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn1" class="totri-footnote">1</a></sup> We’ll also start filling in the layout with links to the pages (such as Home and About) that we’ve created so far (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1">Section 5.1</a>). Along the way, we’ll learn about partials, Rails routes, and the asset pipeline, including an introduction to Sass (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_2">Section 5.2</a>). We’ll end by taking a first important step toward letting users sign up to our site (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_4">Section 5.4</a>).</p>
<p class="footnote"><a id="ch05fn1" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn1a" class="totri-footnote">1</a>. Thanks to reader Colm Tuite for his excellent work in helping to convert the sample application over to the Bootstrap CSS framework.</p>
<p class="indent">Most of the changes in this chapter involve adding and editing markup in the sample application’s site layout, which (based on the guidelines in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#box3_3">Box 3.3</a>) is exactly the kind of work that we wouldn’t ordinarily test-drive, or even test at all. As a result, we’ll spend most of our time in our text editor and browser, using TDD only to add a Contact page (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_3_1">Section 5.3.1</a>). We will add an important new test, though, writing our first <em>integration test</em> to check that the links on the final layout are correct (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_3_4">Section 5.3.4</a>).</p>
<section>
<h3 class="h3" id="sec5_1">5.1 Adding Some Structure</h3>
<p class="noindent">The <em>Ruby on Rails Tutorial</em> is a book on web development, not web design, but it would be depressing to work on an application that looks like <em>complete</em> garbage, so in <span epub:type="pagebreak" id="page_202"></span>this section we’ll add some structure to the layout and give it some minimal styling with CSS. In addition to using some custom CSS rules, we’ll make use of <em>Bootstrap</em>, an open-source web design framework from Twitter.<sup><a id="ch05fn2a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn2" class="totri-footnote">2</a></sup> (This design will initially be optimized for desktop/laptop computers, but we’ll include some additional some rules for mobile devices in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch08.xhtml#sec8_2_3">Section 8.2.3</a>.) We’ll also give our <em>code</em> some styling, so to speak, using <em>partials</em> to tidy up the layout once it gets a little cluttered.</p>
<p class="footnote"><a id="ch05fn2" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn2a" class="totri-footnote">2</a>. Although more recent versions of Bootstrap are now available, this tutorial standardizes on Bootstrap 3 in order to retain compatibility with the design and HTML structure from previous editions. The latest version of Bootstrap is similar, so the skills you learn here are highly transferable.</p>
<p class="indent">When building web applications, it is often useful to get a high-level overview of the user interface as early as possible. Throughout the rest of this book, we will thus often consider <em>mockups</em> (in a web context often called <em>wireframes</em>), which are rough sketches of what the eventual application will look like.<sup><a id="ch05fn3a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn3" class="totri-footnote">3</a></sup> In this chapter, we will principally be developing the static pages introduced in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_2">Section 3.2</a>, including a site logo, a navigation header, and a site footer. A mockup for the most important of these pages, the Home page, appears in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig01">Figure 5.1</a>. You can see the final result in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig09">Figure 5.9</a>. You’ll note that it differs in some details—for example, we’ll end up adding a Rails logo on the page—but that’s fine, since a mockup need not be exact.</p>
<p class="footnote"><a id="ch05fn3" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn3a" class="totri-footnote">3</a>. The mockups in the <em>Ruby on Rails Tutorial</em> are made with an excellent online mockup application called Mockingbird.</p>
<figure id="ch05fig01" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_01.jpg" alt="Image" width="677" height="582" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_01.jpg">
<figcaption><p><strong>Figure 5.1:</strong> A mockup of the sample application’s Home page.</p></figcaption>
</figure>
<p class="indent">As usual, if you’re using Git for version control, now would be a good time to make a new branch:</p>
<p class="codelink"><a id="pf0202-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0202-01a">Click here to view code image</a></p>
<pre class="pre1"><strong><span class="navy">$</span></strong> git checkout -b filling-in-layout</pre>
<section>
<h4 class="h4" id="sec5_1_1">5.1.1 Site Navigation</h4>
<p class="noindent">As a first step toward adding links and styles to the sample application, we’ll update the site layout file <span class="dark-green"><strong><code>application.html.erb</code></strong></span> (last seen in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch04.xhtml#ch04ex03">Listing 4.3</a>) with additional HTML structure. This includes some additional divisions, some CSS classes, and the start of our site navigation. The full file is in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex01">Listing 5.1</a>; explanations for the various pieces follow immediately thereafter. If you’d rather not delay gratification, you can see the results in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig02">Figure 5.2</a>. (<em>Note</em>: It’s not (yet) very gratifying.)</p>
<figure id="ch05fig02" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_02.jpg" alt="Image" width="677" height="521" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_02.jpg">
<figcaption><p><strong>Figure 5.2:</strong> The Home page with no custom CSS.<span epub:type="pagebreak" id="page_203"></span></p></figcaption>
</figure>
<p class="ex-title" id="ch05ex01"><strong>Listing 5.1:</strong> The site layout with added structure.</p>
<pre class="pre2">app/views/layouts/application.html.erb</pre>
<p class="codelink"><a id="pf0203-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0203-01a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red5">&lt;!DOCTYPE html&gt;</span>
&lt;<span class="green"><strong>html</strong></span>&gt;
  &lt;<span class="green"><strong>head</strong></span>&gt;
   &lt;<span class="green"><strong>title</strong></span>&gt;<span class="red5">&lt;%=</span> full_title(<span class="green"><strong>yield</strong></span>(<span class="violet">:title</span>)) <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>title</strong></span>&gt;
   &lt;<span class="green"><strong>meta</strong></span> <span class="ash3">charset</span><span class="ash">=</span><span class="maroon">"utf-8"</span>&gt;
   <span class="red5">&lt;%=</span> csrf_meta_tags <span class="red5">%&gt;</span>
   <span class="red5">&lt;%=</span> csp_meta_tag <span class="red5">%&gt;</span>

   <span class="red5">&lt;%=</span> stylesheet_link_tag <span class="maroon">'application'</span>, <span class="violet">media</span>: <span class="maroon">'all'</span>,
                                          <span class="maroon">'data-turbolinks-track'</span>: <span class="maroon">'reload'</span> <span class="red5">%&gt;</span>
   <span class="red5">&lt;%=</span> javascript_pack_tag <span class="maroon">'application'</span>, <span class="maroon">'data-turbolinks-track'</span>: <span class="maroon">'reload'</span> <span class="red5">%&gt;</span>
   <span class="blue">&lt;!--[if lt IE 9]&gt;</span>
     <span class="blue">&lt;script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.min.js"&gt;</span>
<span epub:type="pagebreak" id="page_204"></span>   <span class="blue">&lt;/script&gt;</span>
  <span class="blue">&lt;![endif]--&gt;</span>
 &lt;/<span class="green"><strong>head</strong></span>&gt;
 &lt;<span class="green"><strong>body</strong></span>&gt;
   &lt;<span class="green"><strong>header</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"navbar navbar-fixed-top navbar-inverse"</span>&gt;
     &lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;
       <span class="red5">&lt;%=</span> link_to <span class="maroon">"sample app"</span>, <span class="maroon">'#'</span>, <span class="green1">id</span>: <span class="maroon">"logo"</span> <span class="red5">%&gt;</span>
       &lt;<span class="green"><strong>nav</strong></span>&gt;
         &lt;<span class="green"><strong>ul</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"nav navbar-nav navbar-right"</span>&gt;
           &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Home"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
           &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Help"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
           &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Log in"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
         &lt;/<span class="green"><strong>ul</strong></span>&gt;
       &lt;/<span class="green"><strong>nav</strong></span>&gt;
    &lt;/<span class="green"><strong>div</strong></span>&gt;
  &lt;/<span class="green"><strong>header</strong></span>&gt;
  &lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;
    <span class="red5">&lt;%=</span> <span class="green"><strong>yield</strong></span> <span class="red5">%&gt;</span>
   &lt;/<span class="green"><strong>div</strong></span>&gt;
  &lt;/<span class="green"><strong>body</strong></span>&gt;
&lt;/<span class="green"><strong>html</strong></span>&gt;</pre>
</div>
<p class="indent">Let’s look at the new elements in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex01">Listing 5.1</a> from top to bottom. As alluded to briefly in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_4_1">Section 3.4.1</a>, Rails uses HTML5 by default (as indicated by the doctype <span class="dark-green"><strong><code>&lt;!DOCTYPE html&gt;</code></strong></span>) which at this point most browsers support, but we can make our site more accessible to older browsers by adding some JavaScript code, known as an “HTML5 shim (or shiv)”:<sup><a id="ch05fn4a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn4" class="totri-footnote">4</a></sup></p>
<p class="footnote"><a id="ch05fn4" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn4a" class="totri-footnote">4</a>. The words <em>shim</em> and <em>shiv</em> are used interchangably in this context. The former is the proper term, based on the English word whose meaning is “a washer or thin strip of material used to align parts, make them fit, or reduce wear,” while the latter (meaning “a knife or razor used as a weapon”) is apparently a play on the name of the shim’s original author, Sjoerd Visscher.</p>
<p class="codelink"><a id="pf0204-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0204-02a">Click here to view code image</a></p>
<pre class="pre1"><span class="blue">&lt;!--[if lt IE 9]&gt;</span>
  <span class="blue">&lt;script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.min.js"&gt;</span>
  <span class="blue">&lt;/script&gt;</span>
<span class="blue">&lt;![endif]--&gt;</span></pre>
<p class="noindent">The somewhat odd syntax</p>
<pre class="pre1"><span class="blue">&lt;!--[if lt IE 9]&gt;</span></pre>
<p class="noindent"><span epub:type="pagebreak" id="page_205"></span>includes the enclosed line only if the version of Microsoft Internet Explorer (IE) is less than 9 (<span class="dark-green"><strong><code>if lt IE 9</code></strong></span>). The weird <span class="dark-green"><strong><code>[if lt IE 9]</code></strong></span> syntax is <em>not</em> part of Rails; it’s actually a conditional comment supported by Internet Explorer browsers for just this sort of situation. It’s a good thing, too, because it means we can include the HTML5 shim <em>only</em> for IE browsers less than version 9, leaving other browsers such as Firefox, Chrome, and Safari unaffected.</p>
<p class="indent">The next section includes a <span class="dark-green"><strong><code>header</code></strong></span> for the site’s (plain-text) logo, a couple of divisions (using the <span class="dark-green"><strong><code>div</code></strong></span> tag), and a list of elements with navigation links:</p>
<p class="codelink"><a id="pf0205-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0205-01a">Click here to view code image</a></p>
<pre class="pre1">&lt;<span class="green"><strong>header</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"navbar navbar-fixed-top navbar-inverse"</span>&gt;
  &lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;
    <span class="red5">&lt;%=</span> link_to <span class="maroon">"sample app"</span>, <span class="maroon">'#'</span>, <span class="green1">id</span>: <span class="maroon">"logo"</span> <span class="red5">%&gt;</span>
    &lt;<span class="green"><strong>nav</strong></span>&gt;
      &lt;<span class="green"><strong>ul</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"nav navbar-nav navbar-right"</span>&gt;
       &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Home"</span>,   <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
       &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Help"</span>,   <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
       &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Log in"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
      &lt;/<span class="green"><strong>ul</strong></span>&gt;
    &lt;/<span class="green"><strong>nav</strong></span>&gt;
  &lt;/<span class="green"><strong>div</strong></span>&gt;
&lt;/<span class="green"><strong>header</strong></span>&gt;</pre>
<p class="noindent">Here the <span class="dark-green"><strong><code>header</code></strong></span> tag indicates elements that should go at the top of the page. We’ve given the <span class="dark-green"><strong><code>header</code></strong></span> tag three <em>CSS classes</em>,<sup><a id="ch05fn5a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn5" class="totri-footnote">5</a></sup> called <span class="dark-green"><strong><code>navbar</code></strong></span>, <span class="dark-green"><strong><code>navbar-fixed-top</code></strong></span>, and <span class="dark-green"><strong><code>navbar-inverse</code></strong></span>, separated by spaces:</p>
<p class="footnote"><a id="ch05fn5" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn5a" class="totri-footnote">5</a>. These are completely unrelated to Ruby classes.</p>
<p class="codelink"><a id="pf0205-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0205-02a">Click here to view code image</a></p>
<pre class="pre1">&lt;<span class="green"><strong>header</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"navbar navbar-fixed-top navbar-inverse"</span>&gt;</pre>
<p class="noindent">All HTML elements can be assigned both classes and <em>ids</em>;<sup><a id="ch05fn6a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn6" class="totri-footnote">6</a></sup> these are merely labels, and are useful for styling with CSS (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1_2">Section 5.1.2</a>). The main difference between classes and ids is that classes can be used multiple times on a page, but ids can be used only once. In the present case, all the navbar classes have special meaning to the Bootstrap framework, which we’ll install and use in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1_2">Section 5.1.2</a>.</p>
<p class="footnote"><a id="ch05fn6" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn6a" class="totri-footnote">6</a>. Short for “identification” and pronounced as the separate letters “I D”. The usual convention in English is to use all-caps (“ID,”) reserving “id” for a term in Freudian psychoanalysis. Because HTML is usually typed in all lowercase letters, though, it’s more common in this context to write “id” instead.</p>
<p class="indent"><span epub:type="pagebreak" id="page_206"></span>Inside the <span class="dark-green"><strong><code>header</code></strong></span> tag, we see a <span class="dark-green"><strong><code>div</code></strong></span> tag:</p>
<pre class="pre1">&lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;</pre>
<p class="noindent">The <span class="dark-green"><strong><code>div</code></strong></span> tag is a generic division; it doesn’t do anything apart from divide the document into distinct parts. In older-style HTML, <span class="dark-green"><strong><code>div</code></strong></span> tags are used for nearly all site divisions, but HTML5 adds the <span class="dark-green"><strong><code>header</code></strong></span>, <span class="dark-green"><strong><code>nav</code></strong></span>, and <span class="dark-green"><strong><code>section</code></strong></span> elements for divisions common to many applications. In this case, the <span class="dark-green"><strong><code>div</code></strong></span> has a CSS class as well (<span class="dark-green"><strong><code>container</code></strong></span>). As with the <span class="dark-green"><strong><code>header</code></strong></span> tag’s classes, this class has special meaning to Bootstrap.</p>
<p class="indent">After the div, we encounter some embedded Ruby:</p>
<p class="codelink"><a id="pf0206-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0206-01a">Click here to view code image</a></p>
<pre class="pre1"><span class="red5">&lt;%=</span> link_to <span class="maroon">"sample app"</span>, <span class="maroon">'#'</span>, <span class="green1">id</span>: <span class="maroon">"logo"</span> <span class="red5">%&gt;</span>
&lt;<span class="green"><strong>nav</strong></span>&gt;
  &lt;<span class="green"><strong>ul</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"nav navbar-nav navbar-right"</span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Home"</span>,   <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Help"</span>,   <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Log in"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
  &lt;/<span class="green"><strong>ul</strong></span>&gt;
&lt;/<span class="green"><strong>nav</strong></span>&gt;</pre>
<p class="noindent">This uses the Rails helper <span class="dark-green"><strong><code>link_to</code></strong></span> to create links (which we created directly with the anchor tag <span class="dark-green"><strong><code>a</code></strong></span> in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_2_2">Section 3.2.2</a>); the first argument to <span class="dark-green"><strong><code>link_to</code></strong></span> is the link text, while the second is the URL. We’ll fill in the URLs with <em>named routes</em> in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_3_3">Section 5.3.3</a>, but for now we use the stub URL <span class="dark-green"><strong><code>'#'</code></strong></span> commonly used in web design (i.e., <span class="dark-green"><strong><code>'#'</code></strong></span> is just a “stub,” or placeholder, for the real URL). The third argument is an options hash, in this case adding the CSS id <span class="dark-green"><strong><code>logo</code></strong></span> to the sample app link. (The other three links have no options hash, which is fine since it’s optional.) Rails helpers often take options hashes in this way, giving us the flexibility to add arbitrary HTML options without ever leaving Rails.</p>
<p class="indent">The second element inside the divs is a list of navigation links, made using the <em>unordered list</em> tag <span class="dark-green"><strong><code>ul</code></strong></span>, together with the <em>list item</em> tag <span class="dark-green"><strong><code>li</code></strong></span>:</p>
<p class="codelink"><a id="pf0206-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0206-02a">Click here to view code image</a></p>
<pre class="pre1">&lt;<span class="green"><strong>nav</strong></span>&gt;
  &lt;<span class="green"><strong>ul</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"nav navbar-nav navbar-right"</span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Home"</span>,   <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Help"</span>,   <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Log in"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
  &lt;/<span class="green"><strong>ul</strong></span>&gt;
&lt;/<span class="green"><strong>nav</strong></span>&gt;</pre>
<p class="noindent"><span epub:type="pagebreak" id="page_207"></span>The <span class="dark-green"><strong><code>&lt;nav&gt;</code></strong></span> tag, though formally unnecessary here, is used to more clearly communicate the purpose of the navigation links. Meanwhile, the <span class="dark-green"><strong><code>nav</code></strong></span>, <span class="dark-green"><strong><code>navbar-nav</code></strong></span>, and <span class="dark-green"><strong><code>navbar-right</code></strong></span> classes on the <span class="dark-green"><strong><code>ul</code></strong></span> tag have special meaning to Bootstrap and will be styled automatically when we include the Bootstrap CSS in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1_2">Section 5.1.2</a>. As you can verify by inspecting the navigation in your browser,<sup><a id="ch05fn7a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn7" class="totri-footnote">7</a></sup> once Rails has processed the layout and evaluated the embedded Ruby the list looks like this:<sup><a id="ch05fn8a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn8" class="totri-footnote">8</a></sup></p>
<p class="footnote"><a id="ch05fn7" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn7a" class="totri-footnote">7</a>. All modern browsers have the capability to inspect the HTML source of a page. If you’ve never used a web inspector before, do a web search for something like “web inspector &lt;name of browser&gt;” to learn more.</p>
<p class="footnote"><a id="ch05fn8" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn8a" class="totri-footnote">8</a>. The spacing might look slightly different, which is fine because (as noted in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_4_1">Section 3.4.1</a>) HTML is insensitive to whitespace.</p>
<p class="codelink"><a id="pf0207-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0207-01a">Click here to view code image</a></p>
<pre class="pre1">&lt;<span class="green"><strong>nav</strong></span>&gt;
  &lt;<span class="green"><strong>ul</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"nav navbar-nav navbar-right"</span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;&lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"#"</span>&gt;Home&lt;/<span class="green"><strong>a</strong></span>&gt;&lt;/<span class="green"><strong>li</strong></span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;&lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"#"</span>&gt;Help&lt;/<span class="green"><strong>a</strong></span>&gt;&lt;/<span class="green"><strong>li</strong></span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;&lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"#"</span>&gt;Log in&lt;/<span class="green"><strong>a</strong></span>&gt;&lt;/<span class="green"><strong>li</strong></span>&gt;
  &lt;/<span class="green"><strong>ul</strong></span>&gt;
&lt;/<span class="green"><strong>nav</strong></span>&gt;</pre>
<p class="noindent">This is the text that will be returned to the browser.</p>
<p class="indent">The final part of the layout is a <span class="dark-green"><strong><code>div</code></strong></span> for the main content:</p>
<pre class="pre1">&lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;
  <span class="red5">&lt;%=</span> <span class="green"><strong>yield</strong></span> <span class="red5">%&gt;</span>
&lt;/<span class="green"><strong>div</strong></span>&gt;</pre>
<p class="noindent">As before, the <span class="dark-green"><strong><code>container</code></strong></span> class has special meaning to Bootstrap. As we learned in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_4_3">Section 3.4.3</a>, the <span class="dark-green"><strong><code>yield</code></strong></span> method inserts the contents of each page into the site layout.</p>
<p class="indent">Apart from the site footer, which we’ll add in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1_3">Section 5.1.3</a>, our layout is now complete, and we can look at the results by visiting the Home page. To take advantage of the upcoming style elements, we’ll add some extra elements to the <span class="dark-green"><strong><code>home.html.erb</code></strong></span> view (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex02">Listing 5.2</a>).</p>
<p class="ex-title" id="ch05ex02"><strong>Listing 5.2:</strong> The Home page with a link to the signup page.</p>
<pre class="pre2">app/views/static_pages/home.html.erb</pre>
<p class="codelink"><a id="pf0207-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0207-03a">Click here to view code image</a></p>
<div class="example">
<pre>&lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"center jumbotron"</span>&gt;
 &lt;<span class="green"><strong>h1</strong></span>&gt;Welcome to the Sample App&lt;/<strong><span class="green">h1</span></strong>&gt;
<span epub:type="pagebreak" id="page_208"></span>&lt;<span class="green"><strong>h2</strong></span>&gt;
  This is the home page for the
  &lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"https://www.railstutorial.org/"</span>&gt;Ruby on Rails Tutorial&lt;/<span class="green"><strong>a</strong></span>&gt;
  sample application.
&lt;/<span class="green"><strong>h2</strong></span>&gt;

  <span class="red5">&lt;%=</span> link_to <span class="maroon">"Sign up now!"</span>, <span class="maroon">'#'</span>, <span class="violet">class</span>: <span class="maroon">"btn btn-lg btn-primary"</span> <span class="red5">%&gt;</span>
&lt;/<span class="green"><strong>div</strong></span>&gt;

<span class="red5">&lt;%=</span> link_to image_tag(<span class="maroon">"rails.svg"</span>, <span class="violet">alt</span>: <span class="maroon">"Rails logo"</span>, <span class="violet">width</span>: <span class="maroon">"200"</span>),
                      <span class="maroon">"https://rubyonrails.org/"</span> <span class="red5">%&gt;</span></pre>
</div>
<p class="noindent">In preparation for adding users to our site in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch07.xhtml#ch07">Chapter 7</a>, the first <span class="dark-green"><strong><code>link_to</code></strong></span> creates a stub link of the form</p>
<p class="codelink"><a id="pf0208-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0208-02a">Click here to view code image</a></p>
<pre class="pre1">&lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"#"</span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"btn btn-lg btn-primary"</span>&gt;Sign up now!&lt;/<span class="green"><strong>a</strong></span>&gt;</pre>
<p class="noindent">In the <span class="dark-green"><strong><code>div</code></strong></span> tag, the <span class="dark-green"><strong><code>jumbotron</code></strong></span> CSS class has a special meaning to Bootstrap, as do the <span class="dark-green"><strong><code>btn</code></strong></span>, <span class="dark-green"><strong><code>btn-lg</code></strong></span>, and <span class="dark-green"><strong><code>btn-primary</code></strong></span> classes in the signup button.</p>
<p class="indent">The second <span class="dark-green"><strong><code>link_to</code></strong></span> shows off the <span class="dark-green"><strong><code>image_tag</code></strong></span> helper, which takes as arguments the path to an image and an optional options hash, in this case setting the <span class="dark-green"><strong><code>alt</code></strong></span> and <span class="dark-green"><strong><code>width</code></strong></span> attributes of the image tag using symbols. For this to work, there needs to be an image called <span class="dark-green"><strong><code>rails.svg</code></strong></span>, which you should download from the Learn Enough website at <a href="https://cdn.learnenough.com/rails.svg">https://cdn.learnenough.com/rails.svg</a> and place in the <span class="dark-green"><strong><code>app/assets/images/</code></strong></span> directory.</p>
<p class="indent">If you’re using the cloud IDE or another Unix-like system, you can accomplish this with the <span class="dark-green"><strong><code>curl</code></strong></span> utility, as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex03">Listing 5.3</a>.<sup><a id="ch05fn9a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn9" class="totri-footnote">9</a></sup></p>
<p class="footnote"><a id="ch05fn9" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn9a" class="totri-footnote">9</a>. See <em>Learn Enough Command Line to Be Dangerous</em> (<a href="http://www.learnenough.com/command-line">www.learnenough.com/command-line</a>) for more information about <span class="dark-green"><strong><code>curl</code></strong></span>.</p>
<p class="ex-title" id="ch05ex03"><strong>Listing 5.3:</strong> Downloading an image.</p>
<p class="codelink"><a id="pf0208-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0208-03a">Click here to view code image</a></p>
<div class="example">
<pre><strong><span class="navy">$</span></strong> curl -o app/assets/images/rails.svg -OL https://cdn.learnenough.com/rails.svg</pre>
</div>
<p class="noindent">Because we used the <span class="dark-green"><strong><code>image_tag</code></strong></span> helper in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex02">Listing 5.2</a>, Rails will automatically find any images in the <span class="dark-green"><strong><code>app/assets/images/</code></strong></span> directory using the asset pipeline (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_2">Section 5.2</a>).<span epub:type="pagebreak" id="page_209"></span></p>
<p class="indent">Now we’re finally ready to see the fruits of our labors. You may have to restart the Rails server to see the changes (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch01.xhtml#box1_2">Box 1.2</a>), and the results should appear as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig02">Figure 5.2</a>.</p>
<p class="indent">To make the effects of <span class="dark-green"><strong><code>image_tag</code></strong></span> clearer, let’s look at the HTML it produces by inspecting the image in our browser:<sup><a id="ch05fn10a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn10">10</a></sup></p>
<p class="footnote"><a id="ch05fn10" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn10a">10</a>. You might notice that the <span class="dark-green"><strong><code>img</code></strong></span> tag, rather than looking like &lt;img&gt;...&lt;/img&gt;, instead looks like &lt;img ... /&gt;. Tags that follow this form are known as <em>self-closing</em> tags.</p>
<p class="codelink"><a id="pf0209-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0209-01a">Click here to view code image</a></p>
<pre class="pre1">&lt;<span class="green"><strong>img</strong></span> <span class="ash3">alt</span><span class="ash">=</span><span class="maroon">"Rails logo"</span> <span class="ash3">width</span><span class="ash">=</span><span class="maroon">"200px"</span> <span class="ash3">src</span><span class="ash">=</span><span class="maroon">"/assets/rails-&lt;long string&gt;.svg"</span>&gt;</pre>
<p class="noindent">Here the <span class="dark-green"><strong><code>&lt;long string&gt;</code></strong></span> is a random value added by Rails to ensure that the filename is unique, which causes browsers to load images properly when they have been updated <span epub:type="pagebreak" id="page_210"></span>(instead of retrieving them from the browser cache). Note that the <span class="dark-green"><strong><code>src</code></strong></span> attribute <em>doesn’t</em> include <span class="dark-green"><strong><code>images</code></strong></span>, instead using an <span class="dark-green"><strong><code>assets</code></strong></span> directory common to all assets (e.g., images, JavaScript, CSS). On the server, Rails associates images in the <span class="dark-green"><strong><code>assets</code></strong></span> directory with the proper <span class="dark-green"><strong><code>app/assets/images</code></strong></span> directory, but as far as the browser is concerned all the assets look like they are in the same directory, which allows them to be served faster. Meanwhile, the <span class="dark-green"><strong><code>alt</code></strong></span> attribute will be displayed if the page is accessed by a program that can’t display images (such as screen readers for people with visual impairments).</p>
<p class="indent">As for the result shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig02">Figure 5.2</a>, it might look a little underwhelming. Happily, though, we’ve done a good job of giving our HTML elements sensible classes, which puts us in a great position to add style to the site with CSS.</p>
<section>
<h5 class="h5" id="lev41">Exercises</h5>
<p class="noindent">Solutions to the exercises are available to all Rails Tutorial purchasers at <a href="https://www.railstutorial.org/aw-solutions">https://www.railstutorial.org/aw-solutions</a>.</p>
<p class="indent">To see other people’s answers and to record your own, subscribe to the Rails Tutorial course or to the Learn Enough All Access Bundle.</p>
<ol class="num">
<li><p class="num">It’s well known that no web page is complete without a cat image. Using the command in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex04">Listing 5.4</a>, arrange to download the kitten pic shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig03">Figure 5.3</a>.<sup><a id="ch05fn11a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn11">11</a></sup></p>
<p class="footnote"><a id="ch05fn11" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn11a">11</a>. Image retrieved from <a href="https://www.flickr.com/photos/deborah_s_perspective/14144861329">https://www.flickr.com/photos/deborah_s_perspective/14144861329</a> on 2016-01-09. Copyright © 2009 by Deborah and used unaltered under the terms of the Creative Commons Attribution 2.0 Generic license.</p>
<figure id="ch05fig03" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_03.jpg" alt="Image" width="709" height="471" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_03.jpg">
<figcaption><p><strong>Figure 5.3:</strong> An obligatory kitten pic.</p></figcaption>
</figure></li>
<li><p class="num">Using the <span class="dark-green"><strong><code>mv</code></strong></span> command, move <span class="dark-green"><strong><code>kitten.jpg</code></strong></span> to the correct asset directory for images (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_2_1">Section 5.2.1</a>).</p></li>
<li><p class="num">Using <span class="dark-green"><strong><code>image_tag</code></strong></span>, add <span class="dark-green"><strong><code>kitten.jpg</code></strong></span> to the Home page, as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig04">Figure 5.4</a>.</p></li>
</ol>
<figure id="ch05fig04" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_04.jpg" alt="Image" width="677" height="521" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_04.jpg">
<figcaption><p><strong>Figure 5.4:</strong> The result of adding a kitten image to the Home page.</p></figcaption>
</figure>
<p class="ex-title" id="ch05ex04"><strong>Listing 5.4:</strong> Downloading a cat picture from the Internet.</p>
<p class="codelink"><a id="pf0210-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0210-01a">Click here to view code image</a></p>
<div class="example">
<pre><strong><span class="navy">$</span></strong> curl -OL https://cdn.learnenough.com/kitten.jpg</pre>
</div>
</section>
</section>
<section>
<h4 class="h4" id="sec5_1_2">5.1.2 Bootstrap and Custom CSS</h4>
<p class="noindent">In <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1_1">Section 5.1.1</a>, we associated many of the HTML elements with CSS classes, which gives us considerable flexibility in constructing a layout based on CSS. As noted in <span epub:type="pagebreak" id="page_211"></span><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1_1">Section 5.1.1</a>, many of these classes are specific to Bootstrap, a CSS framework that makes it easy to add nice web design and user interface elements to an HTML5 application. In this section, we’ll combine Bootstrap with some custom CSS rules to start adding some style to the sample application. It’s worth noting that using Bootstrap automatically makes our application’s design <em>responsive</em>, ensuring that it looks sensible across a wide range of devices.</p>
<p class="indent">Our first step is to add Bootstrap, which in Rails applications can be accomplished with the <code>bootstrap-sass</code> gem, as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex05">Listing 5.5</a>.<sup><a id="ch05fn12a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn12">12</a></sup> The Bootstrap framework natively uses the Less CSS language for making dynamic stylesheets, but the Rails asset pipeline supports the (very similar) Sass language by default (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_2">Section 5.2</a>), so <code>bootstrap-sass</code> converts Less to Sass and makes all the necessary Bootstrap files available to the current application.</p>
<p class="footnote"><a id="ch05fn12" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn12a">12</a>. As always, you should use the version numbers listed at <a href="http://gemfiles-6th-ed.railstutorial.org/">gemfiles-6th-ed.railstutorial.org</a> instead of the ones listed here.<span epub:type="pagebreak" id="page_212"></span></p>
<p class="ex-title" id="ch05ex05"><strong>Listing 5.5:</strong> Adding the <code>bootstrap-sass</code> gem to the <span class="dark-green"><strong><code>Gemfile</code></strong></span>.</p>
<p class="codelink"><a id="pf0212-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0212-01a">Click here to view code image</a></p>
<div class="example">
<pre>source <span class="maroon">'https://rubygems.org'</span>

gem <span class="maroon">'rails'</span>,            <span class="maroon">'6.0.2.1'</span>
<span class="mark">gem <span class="maroon1">'bootstrap-sass',   '3.4.1'</span></span>
gem <span class="maroon">'puma'</span>,             <span class="maroon">'3.12.2'</span>
<span class="ash">.</span>
<span class="ash">.</span>
<span class="ash">.</span></pre>
</div>
<p class="noindent">To install Bootstrap, we run <span class="dark-green"><strong><code>bundle install</code></strong></span> as usual:</p>
<pre class="pre1"><strong><span class="navy">$</span></strong> bundle install</pre>
<p class="indent">Although <span class="dark-green"><strong><code>rails generate</code></strong></span> automatically creates a separate CSS file for each controller, it’s surprisingly hard to include them all properly and in the right order, so for <span epub:type="pagebreak" id="page_213"></span>simplicity we’ll put all of the CSS needed for this tutorial in a single file. The first step toward getting custom CSS to work is to create such a custom CSS file:</p>
<p class="codelink"><a id="pf0213-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0213-01a">Click here to view code image</a></p>
<pre class="pre1"><strong><span class="navy">$</span></strong> touch app/assets/stylesheets/custom.scss</pre>
<p class="noindent">(This uses the <span class="dark-green"><strong><code>touch</code></strong></span> trick from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_3_3">Section 3.3.3</a> en route, but you can create the file however you like.) Here both the directory name and the filename extension are important. The directory</p>
<pre class="pre1"><span class="green">app/assets/stylesheets/</span></pre>
<p class="noindent">is part of the asset pipeline (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_2">Section 5.2</a>), and any stylesheets in this directory will automatically be included as part of the <span class="dark-green"><strong><code>application.css</code></strong></span> file included in the site layout. Furthermore, the filename <span class="dark-green"><strong><code>custom.scss</code></strong></span> includes the <span class="dark-green"><strong><code>.scss</code></strong></span> extension, which indicates a “Sassy CSS” file and arranges for the asset pipeline to process the file using Sass. (We won’t use Sass until <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_2_2">Section 5.2.2</a>, but it’s needed now for the <code>bootstrap-sass</code> gem to work its magic.)</p>
<p class="indent">Inside the file for the custom CSS, we can use the <span class="dark-green"><strong><code>@import</code></strong></span> function to include Bootstrap (together with the associated Sprockets utility), as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex06">Listing 5.6</a>.<sup><a id="ch05fn13a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn13">13</a></sup></p>
<p class="footnote"><a id="ch05fn13" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn13a">13</a>. If these steps seem mysterious, take heart: I’m just following the instructions from the bootstrap-sass README file.</p>
<p class="ex-title" id="ch05ex06"><strong>Listing 5.6:</strong> Adding Bootstrap CSS.</p>
<pre class="pre2">app/assets/stylesheets/custom.scss</pre>
<p class="codelink"><a id="pf0213-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0213-03a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap-sprockets"</span>;
<span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap"</span>;</pre>
</div>
<p class="noindent">The two lines in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex06">Listing 5.6</a> include the entire Bootstrap CSS framework. After restarting the webserver to incorporate the changes into the development application (by pressing Ctrl-C and then running <span class="dark-green"><strong><code>rails server</code></strong></span> as in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch01.xhtml#sec1_2_2">Section 1.2.2</a>), the results appear as in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig05">Figure 5.5</a>. The placement of the text isn’t good and the logo doesn’t have any style, but the colors and signup button look promising.<span epub:type="pagebreak" id="page_214"></span></p>
<figure id="ch05fig05" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_05.jpg" alt="Image" width="677" height="520" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_05.jpg">
<figcaption><p><strong>Figure 5.5:</strong> The sample application with Bootstrap CSS.</p></figcaption>
</figure>
<p class="indent">Next we’ll add some CSS that will be used site-wide for styling the layout and each individual page, as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex07">Listing 5.7</a>. The result is shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig06">Figure 5.6</a>. (There are quite a few rules in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex07">Listing 5.7</a>; to get a sense of what a CSS rule does, it’s often helpful to comment it out using CSS comments—that is, by putting it inside <span class="dark-green"><strong><code>/* ... */</code></strong></span>—and seeing what changes.)</p>
<figure id="ch05fig06" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_06.jpg" alt="Image" width="677" height="521" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_06.jpg">
<figcaption><p><strong>Figure 5.6:</strong> Adding some spacing and other universal styling.</p></figcaption>
</figure>
<p class="ex-title" id="ch05ex07"><strong>Listing 5.7:</strong> Adding CSS for some universal styling applying to all pages.</p>
<pre class="pre2">app/assets/stylesheets/custom.scss</pre>
<p class="codelink"><a id="pf0214-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0214-01a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap-sprockets"</span>;
<span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap"</span>;

<span class="blue">/* universal */</span>

<span class="green"><strong>body</strong></span> {
<span epub:type="pagebreak" id="page_215"></span><span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>60px</strong></span><span class="ash">;</span>
}

<span class="green"><strong>section</strong></span> {
<span class="green"><strong>overflow</strong></span><span class="pink2">:</span> <span class="green"><strong>auto</strong></span><span class="ash">;</span>

}
<span class="green"><strong>textarea</strong></span> {
<span class="green"><strong>resize</strong></span><span class="pink2">:</span> <span class="green"><strong>vertical</strong></span><span class="ash">;</span>
}
<span class="blue3"><strong>.center</strong></span> {
<span class="green"><strong>text-align</strong></span><span class="pink2">:</span> <span class="green"><strong>center</strong></span><span class="ash">;</span>

}
<span class="blue3"><strong>.center</strong></span> <span class="green"><strong>h1</strong></span> {
<span class="green"><strong>margin-bottom</strong></span><span class="pink2">:</span> <span class="green"><strong>10px</strong></span><span class="ash">;</span>

}</pre>
</div>
<p class="indent"><span epub:type="pagebreak" id="page_216"></span>Note that the CSS in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex07">Listing 5.7</a> has a consistent form. In general, CSS rules refer either to a class, an id, an HTML tag, or some combination thereof, followed by a list of styling commands. For example,</p>
<pre class="pre1"><span class="green"><strong>body</strong></span> {
  <span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>60px</strong></span><span class="ash">;</span>
}</pre>
<p class="noindent">puts 60 pixels of padding at the top of the page. Because of the <span class="dark-green"><strong><code>navbar-fixed-top</code></strong></span> class in the <span class="dark-green"><strong><code>header</code></strong></span> tag, Bootstrap fixes the navigation bar to the top of the page, so the padding serves to separate the main text from the navigation. (Because the default navbar color changed after Bootstrap 2.0, we need the <span class="dark-green"><strong><code>navbar-inverse</code></strong></span> class to make it dark instead of light.) Meanwhile, the CSS in the rule</p>
<pre class="pre1"><span class="blue3"><strong>.center</strong></span> {
  <span class="green"><strong>text-align</strong></span><span class="pink2">:</span> <span class="green"><strong>center</strong></span><span class="ash">;</span>
}</pre>
<p class="noindent">associates the <span class="dark-green"><strong><code>center</code></strong></span> class with the <span class="dark-green"><strong><code>text-align: center</code></strong></span> property. In other words, the dot <span class="dark-green"><strong><code>.</code></strong></span> in <span class="dark-green"><strong><code>.center</code></strong></span> indicates that the rule styles a class. (As we’ll see in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex09">Listing 5.9</a>, the pound sign <span class="dark-green"><strong><code>#</code></strong></span> identifies a rule to style a CSS <em>id</em>.) This rule means that elements inside any tag (such as a <span class="dark-green"><strong><code>div</code></strong></span>) with class <span class="dark-green"><strong><code>center</code></strong></span> will be centered on the page. (We saw an example of this class in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex02">Listing 5.2</a>.)</p>
<p class="indent">Although Bootstrap comes with CSS rules for nice typography, we’ll also add some custom rules for the appearance of the text on our site, as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex08">Listing 5.8</a>. (Not all of these rules apply to the Home page, but each rule here will be used at some point in the sample application.) The result of <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex08">Listing 5.8</a> is shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig07">Figure 5.7</a>.</p>
<figure id="ch05fig07" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_07.jpg" alt="Image" width="677" height="520" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_07.jpg">
<figcaption><p><strong>Figure 5.7:</strong> Adding some typographic styling.</p></figcaption>
</figure>
<p class="ex-title" id="ch05ex08"><strong>Listing 5.8:</strong> Adding CSS for nice typography.</p>
<pre class="pre2">app/assets/stylesheets/custom.scss</pre>
<p class="codelink"><a id="pf0216-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0216-03a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap-sprockets"</span>;
<span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap"</span>;
<strong><span class="blue3">.</span></strong>
<strong><span class="blue3">.</span></strong>
<strong><span class="blue3">.</span></strong>
<span class="ash">/*</span> <span class="green"><strong>typography</strong></span> <span class="ash">*/</span>

<span class="green"><strong>h1</strong></span><span class="ash">,</span> <span class="ash"><strong>h2</strong></span><span class="ash">,</span> <span class="green"><strong>h3</strong></span><span class="ash">,</span> <span class="green"><strong>h4</strong></span><span class="ash">,</span> <span class="green"><strong>h5</strong></span><span class="ash">,</span> <span class="green"><strong>h6</strong></span> {
  <span class="green"><strong>line-height</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><span class="ash">;</span>
}
<span epub:type="pagebreak" id="page_217"></span>
<span class="green"><strong>h1</strong></span> {
  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>3em</strong></span><span class="ash">;</span>
  <span class="green"><strong>letter-spacing</strong></span><span class="pink2">:</span> <span class="green"><strong>-2px</strong></span><span class="ash">;</span>
  <span class="green"><strong>margin-bottom</strong></span><span class="pink2">:</span> <span class="green"><strong>30px</strong></span><span class="ash">;</span>
  <span class="green"><strong>text-align</strong></span><span class="pink2">:</span> <span class="green"><strong>center</strong></span><span class="ash">;</span>
}

<span class="green"><strong>h2</strong></span> {
  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><strong><span class="blue3">.2em</span></strong><span class="ash">;</span>
  <span class="green"><strong>letter-spacing</strong></span><span class="pink2">:</span> <span class="green"><strong>-1px</strong></span><span class="ash">;</span>
  <span class="green"><strong>margin-bottom</strong></span><span class="pink2">:</span> <span class="green"><strong>30px</strong></span><span class="ash">;</span>
  <span class="green"><strong>text-align</strong></span><span class="pink2">:</span> <span class="green"><strong>center</strong></span><span class="ash">;</span>
  <span class="green"><strong>font-weight</strong></span><span class="pink2">:</span> <span class="green"><strong>normal</strong></span><span class="ash">;</span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#777</strong></span><span class="ash">;</span>
}

<span class="green"><strong>p</strong></span> {
  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><strong><span class="blue3">.1em</span></strong><span class="ash">;</span>
  <span class="green"><strong>line-height</strong></span><span class="pink2">:</span> <strong><span class="green"><strong>1</strong></span></strong><strong><span class="blue3">.7em</span></strong><span class="ash">;</span>
}</pre>
</div>
<p class="indent"><span epub:type="pagebreak" id="page_218"></span>Finally, we’ll add some rules to style the site’s logo, which simply consists of the text “sample app.” The CSS in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex09">Listing 5.9</a> converts the text to uppercase and modifies its size, color, and placement. (We’ve used a CSS id because we expect the site logo to appear on the page only once, but you could use a class instead.)</p>
<p class="ex-title" id="ch05ex09"><strong>Listing 5.9:</strong> Adding CSS for the site logo.</p>
<pre class="pre2">app/assets/stylesheets/custom.scss</pre>
<p class="codelink"><a id="pf0218-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0218-01a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap-sprockets"</span>;
<span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap"</span>;
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="ash">/*</span> <span class="green"><strong>header</strong></span> <span class="ash">*/</span>

<span class="blue3"><strong>#logo</strong></span> {
  <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
  <span class="green"><strong>margin-right</strong></span><span class="pink2">:</span> <span class="green"><strong>10px</strong></span><span class="ash">;</span>
  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><strong><span class="blue3">.7em</span></strong><span class="ash">;</span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#fff</strong></span><span class="ash">;</span>
  <span class="green"><strong>text-transform</strong></span><span class="pink2">:</span> <span class="green"><strong>uppercase</strong></span><span class="ash">;</span>
  <span class="green"><strong>letter-spacing</strong></span><span class="pink2">:</span> <span class="green"><strong>-1px</strong></span><span class="ash">;</span>
  <span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>9px</strong></span><span class="ash">;</span>
  <span class="green"><strong>font-weight</strong></span><span class="pink2">:</span> <span class="green"><strong>bold</strong></span><span class="ash">;</span>
}

<span class="blue3"><strong>#logo</strong></span><span class="pink2">:hover</span> {
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#fff</strong></span><span class="ash">;</span>
  <span class="green"><strong>text-decoration</strong></span><span class="pink2">:</span> <span class="green"><strong>none</strong></span><span class="ash">;</span>
}</pre>
</div>
<p class="noindent">Here <span class="dark-green"><strong><code>color: #fff</code></strong></span> changes the color of the logo to white. HTML colors can be coded with three pairs of base-16 (hexadecimal) numbers, one each for the primary colors red, green, and blue (in that order). The code <span class="dark-green"><strong><code>#ffffff</code></strong></span> maxes out all three colors, yielding pure white, and <span class="dark-green"><strong><code>#fff</code></strong></span> is a shorthand for the full <span class="dark-green"><strong><code>#ffffff</code></strong></span>. The CSS standard also defines a large number of synonyms for common HTML colors, including <span class="dark-green"><strong><code>white</code></strong></span> for <span class="dark-green"><strong><code>#fff</code></strong></span>. The result of the CSS in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex09">Listing 5.9</a> is shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig08">Figure 5.8</a>.<span epub:type="pagebreak" id="page_219"></span></p>
<figure id="ch05fig08" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_08.jpg" alt="Image" width="677" height="521" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_08.jpg">
<figcaption><p><strong>Figure 5.8:</strong> The sample app with nicely styled logo.</p></figcaption>
</figure>
<section>
<h5 class="h5" id="lev42">Exercises</h5>
<p class="noindent">Solutions to the exercises are available to all Rails Tutorial purchasers at <a href="https://www.railstutorial.org/aw-solutions">https://www.railstutorial.org/aw-solutions</a>.</p>
<p class="indent">To see other people’s answers and to record your own, subscribe to the Rails Tutorial course or to the Learn Enough All Access Bundle.</p>
<ol class="num">
<li><p class="num">Using code like that shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex010">Listing 5.10</a>, comment out the cat image from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1_1">Section 5.1.1</a>. Verify using a web inspector that the HTML for the image no longer appears in the page source.</p></li>
<li><p class="num">By adding the CSS in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex011">Listing 5.11</a> to <span class="dark-green"><strong><code>custom.scss</code></strong></span>, hide all images in the application (currently just the Rails logo on the Home page). Verify with a web inspector that, although the image doesn’t appear, the HTML source is still present.</p></li>
</ol>
<p class="ex-title" id="ch05ex010"><strong>Listing 5.10:</strong> Code to comment out embedded Ruby.</p>
<p class="codelink"><a id="pf0219-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0219-01a">Click here to view code image</a></p>
<div class="example">
<pre><span class="ash">&lt;%</span><span class="blue">#= image_tag("kitten.jpg", alt: "Kitten") %&gt;</span></pre>
</div>
<p class="ex-title" id="ch05ex011"><span epub:type="pagebreak" id="page_220"></span><strong>Listing 5.11:</strong> CSS to hide all images.</p>
<div class="example">
<pre><span class="green"><strong>img</strong></span> {
  <span class="green"><strong>display</strong></span>: <span class="green"><strong>none</strong></span>;
}</pre>
</div>
</section>
</section>
<section>
<h4 class="h4" id="sec5_1_3">5.1.3 Partials</h4>
<p class="noindent">Although the layout in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex01">Listing 5.1</a> serves its purpose, it’s getting a little cluttered. The HTML shim takes up three lines and uses weird IE-specific syntax, so it would be nice to tuck it away somewhere on its own. In addition, the header HTML forms a logical unit, so it should all be packaged up in one place. The way to achieve this in Rails is to use a facility called <em>partials</em>. Let’s first take a look at what the layout looks like after the partials are defined (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex012">Listing 5.12</a>).</p>
<p class="ex-title" id="ch05ex012"><strong>Listing 5.12:</strong> The site layout with partials for the stylesheets and header.</p>
<pre class="pre2">app/views/layouts/application.html.erb</pre>
<p class="codelink"><a id="pf0220-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0220-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red5">&lt;!DOCTYPE html&gt;</span>
&lt;<span class="green"><strong>html</strong></span>&gt;
  &lt;<span class="green"><strong>head</strong></span>&gt;
    &lt;<span class="green"><strong>title</strong></span>&gt;<span class="red5">&lt;%=</span> full_title(<span class="green"><strong>yield</strong></span>(<span class="violet">:title</span>)) <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>title</strong></span>&gt;
    &lt;<span class="green"><strong>meta</strong></span> <span class="ash3">charset</span><span class="ash">=</span><span class="maroon">"utf-8"</span>&gt;
    <span class="red5">&lt;%=</span> csrf_meta_tags <span class="red5">%&gt;</span>
    <span class="red5">&lt;%=</span> csp_meta_tag <span class="red5">%&gt;</span>

   <span class="red5">&lt;%=</span> stylesheet_link_tag <span class="maroon">'application'</span>, <span class="violet">media</span>: <span class="maroon">'all'</span>,
                                          <span class="maroon">'data-turbolinks-track'</span>: <span class="maroon">'reload'</span> <span class="red5">%&gt;</span>
   <span class="red5">&lt;%=</span> javascript_pack_tag <span class="maroon">'application'</span>, <span class="maroon">'data-turbolinks-track'</span>: <span class="maroon">'reload'</span> <span class="red5">%&gt;</span>
<span class="mark">   <span class="maroon1">&lt;%=</span> render <span class="red2">'layouts/shim'</span> <span class="maroon1">%&gt;</span></span>
  &lt;/<span class="green"><strong>head</strong></span>&gt;
  &lt;<span class="green"><strong>body</strong></span>&gt;
<span class="mark">    <span class="maroon1">&lt;%=</span> render <span class="red2">'layouts/header'</span> <span class="maroon1">%&gt;</span></span>
    &lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;
      <span class="red5">&lt;%=</span> <span class="green"><strong>yield</strong></span> <span class="red5">%&gt;</span>
    &lt;/<span class="green"><strong>div</strong></span>&gt;
  &lt;/<span class="green"><strong>body</strong></span>&gt;
&lt;/<span class="green"><strong>html</strong></span>&gt;</pre>
</div>
<p class="indent">In <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex012">Listing 5.12</a>, we’ve replaced the HTML shim stylesheet lines with a single call to a Rails helper called <span class="dark-green"><strong><code>render</code></strong></span>:<span epub:type="pagebreak" id="page_221"></span></p>
<pre class="pre1"><span class="red5">&lt;%=</span> render <span class="maroon">'layouts/shim'</span> <span class="red5">%&gt;</span></pre>
<p class="noindent">The effect of this line is to look for a file called <span class="dark-green"><strong><code>app/views/layouts/_shim.html.erb</code></strong></span>, evaluate its contents, and insert the results into the view.<sup><a id="ch05fn14a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn14">14</a></sup> (Recall that <span class="dark-green"><strong><code>&lt;%= ... %&gt;</code></strong></span> is the embedded Ruby syntax needed to evaluate a Ruby expression and then insert the results into the template.) Note the leading underscore on the filename <span class="dark-green"><strong><code>_shim.html.erb</code></strong></span>; this underscore is the universal convention for naming partials, and among other things makes it possible to identify all the partials in a directory at a glance.</p>
<p class="footnote"><a id="ch05fn14" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn14a">14</a>. Many Rails developers use a <span class="dark-green"><strong><code>shared</code></strong></span> directory for partials shared across different views. I prefer to use the <span class="dark-green"><strong><code>shared</code></strong></span> folder for utility partials that are useful on multiple views, while putting partials that are literally on every page (as part of the site layout) in the <span class="dark-green"><strong><code>layouts</code></strong></span> directory. (We’ll create the <span class="dark-green"><strong><code>shared</code></strong></span> directory starting in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch07.xhtml#ch07">Chapter 7</a>.) That seems to me a logical division, but putting them all in the <span class="dark-green"><strong><code>shared</code></strong></span> folder certainly works fine, too.</p>
<p class="indent">To get the partial to work, we have to create the corresponding file and fill it with some content. In the case of the shim partial, this is just the three lines of shim code from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex01">Listing 5.1</a>. The result appears in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex013">Listing 5.13</a>.</p>
<p class="ex-title" id="ch05ex013"><strong>Listing 5.13:</strong> A partial for the HTML shim.</p>
<pre class="pre2">app/views/layouts/_shim.html.erb</pre>
<p class="codelink"><a id="pf0221-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0221-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="blue">&lt;!--[if lt IE 9]&gt;</span>
  <span class="blue">&lt;script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.min.js"&gt;</span>
  <span class="blue">&lt;/script&gt;</span>
<span class="blue">&lt;![endif]--&gt;</span></pre>
</div>
<p class="indent">Similarly, we can move the header material into the partial shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex014">Listing 5.14</a> and insert it into the layout with another call to <span class="dark-green"><strong><code>render</code></strong></span>. (As usual with partials, you will have to create the file by hand using your text editor.)</p>
<p class="ex-title" id="ch05ex014"><strong>Listing 5.14:</strong> A partial for the site header.</p>
<pre class="pre2">app/views/layouts/_header.html.erb</pre>
<p class="codelink"><a id="pf0221-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0221-03a">Click here to view code image</a></p>
<div class="example">
<pre>&lt;<span class="green"><strong>header</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"navbar navbar-fixed-top navbar-inverse"</span>&gt;
  &lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;
    <span class="red5">&lt;%=</span> link_to <span class="maroon">"sample app"</span>, <span class="maroon">'#'</span>, <span class="green1">id</span>: <span class="maroon">"logo"</span> <span class="red5">%&gt;</span>
    &lt;<span class="green"><strong>nav</strong></span>&gt;
<span epub:type="pagebreak" id="page_222"></span>      &lt;<strong><span class="green">ul</span></strong> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"nav navbar-nav navbar-right"</span>&gt;
        &lt;<strong><span class="green">li</span></strong>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Home"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<strong><span class="green">li</span></strong>&gt;
        &lt;<strong><span class="green">li</span></strong>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Help"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<strong><span class="green">li</span></strong>&gt;
        &lt;<strong><span class="green">li</span></strong>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Log in"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<strong><span class="green">li</span></strong>&gt;
      &lt;/<strong><span class="green">ul</span></strong>&gt;
    &lt;/<strong><span class="green">nav</span></strong>&gt;
   &lt;/<strong><span class="green">div</span></strong>&gt;
&lt;/<strong><span class="green">header</span></strong>&gt;</pre>
</div>
<p class="indent">Now that we know how to make partials, let’s add a site footer to go along with the header. By now you can probably guess that we’ll call it <span class="dark-green"><strong><code>_footer.html.erb</code></strong></span> and put it in the layouts directory (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex015">Listing 5.15</a>).<sup><a id="ch05fn15a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn15">15</a></sup></p>
<p class="footnote"><a id="ch05fn15" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn15a">15</a>. You may wonder why we use both the <span class="dark-green"><strong><code>footer</code></strong></span> tag and <span class="dark-green"><strong><code>.footer</code></strong></span> class. The answer is that the tag has a clear meaning to human readers, and the class is used by Bootstrap. Using a <span class="dark-green"><strong><code>div</code></strong></span> tag in place of <span class="dark-green"><strong><code>footer</code></strong></span> would work as well.</p>
<p class="ex-title" id="ch05ex015"><strong>Listing 5.15:</strong> A partial for the site footer.</p>
<pre class="pre2">app/views/layouts/_footer.html.erb</pre>
<p class="codelink"><a id="pf0222-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0222-02a">Click here to view code image</a></p>
<div class="example">
<pre>&lt;<span class="green"><strong>footer</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"footer"</span>&gt;
 &lt;<span class="green"><strong>small</strong></span>&gt;
   The &lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"https://www.railstutorial.org/"</span>&gt;Ruby on Rails Tutorial&lt;/<span class="green"><strong>a</strong></span>&gt;
   by &lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"https://www.michaelhartl.com/"</span>&gt;Michael Hartl&lt;/<span class="green"><strong>a</strong></span>&gt;
&lt;/<span class="green"><strong>small</strong></span>&gt;
&lt;<span class="green"><strong>nav</strong></span>&gt;
  &lt;<span class="green"><strong>ul</strong></span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"About"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Contact"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
    &lt;<span class="green"><strong>li</strong></span>&gt;&lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"https://news.railstutorial.org/"</span>&gt;News&lt;/<span class="green"><strong>a</strong></span>&gt;&lt;/<span class="green"><strong>li</strong></span>&gt;
  &lt;/<span class="green"><strong>ul</strong></span>&gt;
 &lt;/<span class="green"><strong>nav</strong></span>&gt;
&lt;/<span class="green"><strong>footer</strong></span>&gt;</pre>
</div>
<p class="noindent">As with the header, in the footer we’ve used <span class="dark-green"><strong><code>link_to</code></strong></span> for the internal links to the About and Contact pages and stubbed out the URLs with <span class="dark-green"><strong><code>'#'</code></strong></span> for now. (As with <span class="dark-green"><strong><code>header</code></strong></span>, the <span class="dark-green"><strong><code>footer</code></strong></span> tag is new in HTML5.)</p>
<p class="indent">We can render the footer partial in the layout by following the same pattern as the stylesheets and header partials (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex016">Listing 5.16</a>).<span epub:type="pagebreak" id="page_223"></span></p>
<p class="ex-title" id="ch05ex016"><strong>Listing 5.16:</strong> The site layout with a footer partial.</p>
<pre class="pre2">app/views/layouts/application.html.erb</pre>
<p class="codelink"><a id="pf0223-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0223-01a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red5">&lt;!DOCTYPE html&gt;</span>
&lt;<span class="green"><strong>html</strong></span>&gt;
  &lt;<span class="green"><strong>head</strong></span>&gt;
   &lt;<span class="green"><strong>title</strong></span>&gt;<span class="red5">&lt;%=</span> full_title(<span class="green"><strong>yield</strong></span>(<span class="violet">:title</span>)) <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>title</strong></span>&gt;
   &lt;<span class="green"><strong>meta</strong></span> <span class="ash3">charset</span><span class="ash">=</span><span class="maroon">"utf-8"</span>&gt;
   <span class="red5">&lt;%=</span> csrf_meta_tags <span class="red5">%&gt;</span>
   <span class="red5">&lt;%=</span> csp_meta_tag <span class="red5">%&gt;</span>

   <span class="red5">&lt;%=</span> stylesheet_link_tag <span class="maroon">'application'</span>, <span class="violet">media</span>: <span class="maroon">'all'</span>,
                                          <span class="maroon">'data-turbolinks-track'</span>: <span class="maroon">'reload'</span> <span class="red5">%&gt;</span>
   <span class="red5">&lt;%=</span> javascript_pack_tag <span class="maroon">'application'</span>, <span class="maroon">'data-turbolinks-track'</span>: <span class="maroon">'reload'</span> <span class="red5">%&gt;</span>
   <span class="red5">&lt;%=</span> render <span class="maroon">'layouts/shim'</span> <span class="red5">%&gt;</span>
  &lt;/<span class="green"><strong>head</strong></span>&gt;
  &lt;<span class="green"><strong>body</strong></span>&gt;
    <span class="red5">&lt;%=</span> render <span class="maroon">'layouts/header'</span> <span class="red5">%&gt;</span>
    &lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;
      <span class="red5">&lt;%=</span> <span class="green"><strong>yield</strong></span> <span class="red5">%&gt;</span>
<span class="mark">      <span class="maroon1">&lt;%=</span> render <span class="red2">'layouts/footer'</span> <span class="maroon1">%&gt;</span></span>
    &lt;/<span class="green"><strong>div</strong></span>&gt;
  &lt;/<span class="green"><strong>body</strong></span>&gt;
&lt;/<span class="green"><strong>html</strong></span>&gt;</pre>
</div>
<p class="indent">Next, we’ll add some styling for the footer, as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex017">Listing 5.17</a>. The results appear in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig09">Figure 5.9</a>.</p>
<figure id="ch05fig09" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_09.jpg" alt="Image" width="677" height="521" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_09.jpg">
<figcaption><p><strong>Figure 5.9:</strong> The Home page with an added footer.</p></figcaption>
</figure>
<p class="ex-title" id="ch05ex017"><strong>Listing 5.17:</strong> Adding the CSS for the site footer.</p>
<pre class="pre2">app/assets/stylesheets/custom.scss</pre>
<p class="codelink"><a id="pf0223-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0223-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="ash">/*</span> <span class="green"><strong>footer</strong></span> <span class="ash">*/</span>

<span class="green"><strong>footer</strong></span> {
  <span class="green"><strong>margin-top</strong></span><span class="pink2">:</span> <span class="green"><strong>45px</strong></span><span class="ash">;</span>
  <span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>5px</strong></span><span class="ash">;</span>
  <span class="green"><strong>border-top</strong></span><span class="pink2">:</span> <span class="green"><strong>1px solid</strong></span> <span class="blue3"><strong>#eaeaea</strong></span><span class="ash">;</span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#777</strong></span><span class="ash">;</span>
}

<span class="green"><strong>footer a</strong></span> {
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#555</strong></span><span class="ash">;</span>
<span epub:type="pagebreak" id="page_224"></span>}

<span class="green"><strong>footer a</strong></span><span class="pink2">:hover</span> {
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#222</strong></span><span class="ash">;</span>
}

<span class="green"><strong>footer small</strong></span> {
  <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
}

<span class="green"><strong>footer ul</strong></span> {
  <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>right</strong></span><span class="ash">;</span>
  <span class="green"><strong>list-style</strong></span><span class="pink2">:</span> <span class="green"><strong>none</strong></span><span class="ash">;</span>
}

<span class="green"><strong>footer ul li</strong></span> {
  <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
  <span class="green"><strong>margin-left</strong></span><span class="pink2">:</span> <span class="green"><strong>15px</strong></span><span class="ash">;</span>
}</pre>
</div>
<section>
<h5 class="h5" id="lev43"><span epub:type="pagebreak" id="page_225"></span>Exercises</h5>
<p class="noindent">Solutions to the exercises are available to all Rails Tutorial purchasers at <a href="https://www.railstutorial.org/aw-solutions">https://www.railstutorial.org/aw-solutions</a>.</p>
<p class="indent">To see other people’s answers and to record your own, subscribe to the Rails Tutorial course or to the Learn Enough All Access Bundle.</p>
<ol class="num">
<li><p class="num">Replace the default Rails head with the call to <span class="dark-green"><strong><code>render</code></strong></span> shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex018">Listing 5.18</a>. <em>Hint</em>: For convenience, cut the default header rather than just deleting it.</p></li>
<li><p class="num">Because we haven’t yet created the partial needed by <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex018">Listing 5.18</a>, the tests should be <span class="red5"><small>RED</small></span>. Confirm that this is the case.</p></li>
<li><p class="num">Create the necessary partial in the <span class="dark-green"><strong><code>layouts</code></strong></span> directory, paste in the contents, and verify that the tests are now <span class="green5"><small>GREEN</small></span> again.</p></li>
</ol>
<p class="ex-title" id="ch05ex018"><strong>Listing 5.18:</strong> Replacing the default Rails head with a call to <span class="dark-green"><strong><code>render</code></strong></span>.</p>
<pre class="pre2">app/views/layouts/application.html.erb</pre>
<p class="codelink"><a id="pf0225-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0225-01a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red5">&lt;!DOCTYPE html&gt;</span>
&lt;<span class="green"><strong>html</strong></span>&gt;
  &lt;<span class="green"><strong>head</strong></span>&gt;
    &lt;<span class="green"><strong>title</strong></span>&gt;<span class="red5">&lt;%=</span> full_title(<span class="green"><strong>yield</strong></span>(<span class="violet">:title</span>)) <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>title</strong></span>&gt;
    &lt;<span class="green"><strong>meta</strong></span> <span class="ash3">charset</span><span class="ash">=</span><span class="maroon">"utf-8"</span>&gt;
    <span class="red5">&lt;%=</span> render <span class="maroon">'layouts/rails_default'</span> <span class="red5">%&gt;</span>
    <span class="red5">&lt;%=</span> render <span class="maroon">'layouts/shim'</span> <span class="red5">%&gt;</span>
  &lt;/<span class="green"><strong>head</strong></span>&gt;
  &lt;<span class="green"><strong>body</strong></span>&gt;
     <span class="red5">&lt;%=</span> render <span class="maroon">'layouts/header'</span> <span class="red5">%&gt;</span>
     &lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;
       <span class="red5">&lt;%=</span> <span class="green"><strong>yield</strong></span> <span class="red5">%&gt;</span>
       <span class="red5">&lt;%=</span> render <span class="maroon">'layouts/footer'</span> <span class="red5">%&gt;</span>
    &lt;/<span class="green"><strong>div</strong></span>&gt;
 &lt;/<span class="green"><strong>body</strong></span>&gt;
&lt;/<span class="green"><strong>html</strong></span>&gt;</pre>
</div>
</section>
</section>
</section>
<section>
<h3 class="h3" id="sec5_2">5.2 Sass and the Asset Pipeline</h3>
<p class="noindent">One of the most useful features of Rails is the <em>asset pipeline</em>, which significantly simplifies the production and management of static assets such as CSS and images. The asset pipeline also works well in parallel with Webpack (a JavaScript asset bundler) and Yarn <span epub:type="pagebreak" id="page_226"></span>(a dependency manager mentioned in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch01.xhtml#sec1_1_2">Section 1.1.2</a>), both of which are supported by default in Rails. This section first gives a high-level overview of the asset pipeline, and then shows how to use <em>Sass</em>, a powerful tool for writing Cascading Style Sheets (CSS).</p>
<section>
<h4 class="h4" id="sec5_2_1">5.2.1 The Asset Pipeline</h4>
<p class="noindent">From the perspective of a typical Rails developer, there are three main features to understand about the asset pipeline: asset directories, manifest files, and preprocessor engines.<sup><a id="ch05fn16a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn16">16</a></sup> Let’s consider each in turn.</p>
<p class="footnote"><a id="ch05fn16" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn16a">16</a>. The original structure of this section was based on the excellent blog post “The Rails 3 Asset Pipeline in (About) 5 Minutes” by Michael Erasmus.</p>
<section>
<h5 class="h5" id="lev44">Asset Directories</h5>
<p class="noindent">The Rails asset pipeline uses three standard directories for static assets, each with its own purpose:</p>
<p class="bullet">• <span class="dark-green"><strong><code>app/assets</code></strong></span>: assets specific to the present application</p>
<p class="bullet">• <span class="dark-green"><strong><code>lib/assets</code></strong></span>: assets for libraries written by your dev team</p>
<p class="bullet">• <span class="dark-green"><strong><code>vendor/assets</code></strong></span>: assets from third-party vendors (not present by default)</p>
<p class="noindent">Each of these directories has a subdirectory for each of two asset classes—images and CSS:</p>
<pre class="pre1"><strong><span class="navy">$</span></strong> ls app/assets/
<span class="green">config images stylesheets</span></pre>
<p class="indent">At this point, we’re in a position to understand the motivation behind the location of the custom CSS file in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1_2">Section 5.1.2</a>: <span class="dark-green"><strong><code>custom.scss</code></strong></span> is specific to the sample application, so it goes in <span class="dark-green"><strong><code>app/assets/stylesheets</code></strong></span>.</p>
</section>
<section>
<h5 class="h5" id="lev45">Manifest Files</h5>
<p class="noindent">Once you’ve placed your assets in their logical locations, you can use <em>manifest files</em> to tell Rails (via the Sprockets gem) how to combine them to form single files. (This applies to CSS and JavaScript but not to images.) As an example, let’s take a look at the default manifest file for app stylesheets (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex019">Listing 5.19</a>).<span epub:type="pagebreak" id="page_227"></span></p>
<p class="ex-title" id="ch05ex019"><strong>Listing 5.19:</strong> The manifest file for app-specific CSS.</p>
<pre class="pre2">app/assets/stylesheets/application.css</pre>
<p class="codelink"><a id="pf0227-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0227-01a">Click here to view code image</a></p>
<div class="example">
<pre><span class="blue">/*</span>
 <span class="blue">* This is a manifest file that'll be compiled into application.css, which will</span>
 <span class="blue">* include all the files listed below.</span>
 <span class="blue">*</span>
 <span class="blue">* Any CSS and SCSS file within this directory, lib/assets/stylesheets, or any</span>
<span class="blue"> * plugin's vendor/assets/stylesheets directory can be referenced here using a</span>
<span class="blue"> * relative path.</span>
<span class="blue"> *</span>
<span class="blue"> * You're free to add application-wide styles to this file and they'll appear at</span>
<span class="blue"> * the bottom of the compiled file so the styles you add here take precedence</span>
<span class="blue"> * over styles defined in any other CSS/SCSS files in this directory. Styles in</span>
<span class="blue"> * this file should be added after the last require_* statement.</span>
<span class="blue"> * It is generally better to create a new file per style scope.</span>
<span class="blue"> *</span>
<span class="mark"> <span class="blue">*= require_tree .</span></span>
<span class="mark"> <span class="blue">*= require_self</span></span>
 <span class="blue">*/</span></pre>
</div>
<p class="noindent">The key lines here are actually CSS comments, but they are used by Sprockets to include the proper files:</p>
<pre class="pre1"><span class="blue">/*</span>
<span class="blue"> .</span>
<span class="blue"> .</span>
<span class="blue"> .</span>
 <span class="blue">*= require_tree .</span>
 <span class="blue">*= require_self</span>
<span class="blue">*/</span></pre>
<p class="noindent">Here</p>
<pre class="pre1"><span class="green">*= require_tree .</span></pre>
<p class="noindent">ensures that all CSS files in the <span class="dark-green"><strong><code>app/assets/stylesheets</code></strong></span> directory (including the tree subdirectories) are included into the application CSS. The line</p>
<pre class="pre1"><span class="green">*= require_self</span></pre>
<p class="noindent">specifies where in the loading sequence the CSS in <span class="dark-green"><strong><code>application.css</code></strong></span> itself gets included.<span epub:type="pagebreak" id="page_228"></span></p>
<p class="indent">Rails comes with sensible default manifest files, and in the Rails Tutorial we won’t need to make any changes, but the Rails Guides entry on the asset pipeline (<a href="http://guides.rubyonrails.org/asset_pipeline.html">http://guides.rubyonrails.org/asset_pipeline.html</a>) has more detail if you need it.</p>
</section>
<section>
<h5 class="h5" id="lev46">Preprocessor Engines</h5>
<p class="noindent">After you’ve assembled your assets, Rails prepares them for the site template by running them through several preprocessing engines and using the manifest files to combine them for delivery to the browser. We tell Rails which processor to use using filename extensions; the two most common cases are <span class="dark-green"><strong><code>.scss</code></strong></span> for Sass and <span class="dark-green"><strong><code>.erb</code></strong></span> for embedded Ruby (ERb). We first covered ERb in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_4_3">Section 3.4.3</a> and cover Sass in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_2_2">Section 5.2.2</a>.</p>
</section>
<section>
<h5 class="h5" id="lev47">Efficiency in Production</h5>
<p class="noindent">One of the best things about the asset pipeline is that it automatically results in assets that are optimized to be efficient in a production application. Traditional methods for organizing CSS involve splitting functionality into separate files and using nice formatting (with lots of indentation). While convenient for the programmer, this is inefficient in production. In particular, including multiple full-sized files can significantly slow page-load times, which is one of the most important factors affecting the quality of the user experience.</p>
<p class="indent">With the asset pipeline, we don’t have to choose between speed and convenience: We can work with multiple nicely formatted files in development, and then use the asset pipeline to make efficient files in production. In particular, the asset pipeline combines all the application stylesheets into one CSS file (<span class="dark-green"><strong><code>application.css</code></strong></span>) and then <em>minifies</em> it to remove the unnecessary spacing and indentation that bloats file size. The result is the best of both worlds: convenience in development and efficiency in production.</p>
</section>
</section>
<section>
<h4 class="h4" id="sec5_2_2">5.2.2 Syntactically Awesome Stylesheets</h4>
<p class="noindent"><em>Sass</em> is a language for writing stylesheets that improves on CSS in many ways. In this section, we cover two of the most important improvements, <em>nesting</em> and <em>variables</em>. (A third technique, <em>mixins</em>, is introduced in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch07.xhtml#sec7_1_1">Section 7.1.1</a>.)</p>
<p class="indent">As noted briefly in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_1_2">Section 5.1.2</a>, Sass supports a format called SCSS (indicated with a <span class="dark-green"><strong><code>.scss</code></strong></span> filename extension), which is a strict superset of CSS itself. That is, SCSS <span epub:type="pagebreak" id="page_229"></span>only <em>adds</em> features to CSS, rather than defining an entirely new syntax.<sup><a id="ch05fn17a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn17">17</a></sup> This means that every valid CSS file is also a valid SCSS file, which is convenient for projects with existing style rules. In our case, we used SCSS from the start to take advantage of Bootstrap. Since the Rails asset pipeline automatically uses Sass to process files with the <span class="dark-green"><strong><code>.scss</code></strong></span> extension, the <span class="dark-green"><strong><code>custom.scss</code></strong></span> file will be run through the Sass preprocessor before being packaged up for delivery to the browser.</p>
<p class="footnote"><a id="ch05fn17" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn17a">17</a>. Sass also supports an alternative syntax that does define a new language that is less verbose (and has fewer curly braces) but is less convenient for existing projects and is harder to learn for those already familiar with CSS.</p>
<section>
<h5 class="h5" id="lev48">Nesting</h5>
<p class="noindent">A common pattern in stylesheets is having rules that apply to nested elements. For example, in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex07">Listing 5.7</a> we have rules both for <span class="dark-green"><strong><code>.center</code></strong></span> and for <span class="dark-green"><strong><code>.center h1</code></strong></span>:</p>
<pre class="pre1"><span class="blue5"><strong>.center</strong></span> {
  <span class="green"><strong>text-align</strong></span><span class="pink2">:</span> <span class="green"><strong>center</strong></span><span class="ash">;</span>
}

<span class="blue5"><strong>.center</strong></span> <strong><span class="green3">h1</span></strong> {
  <span class="green"><strong>margin-bottom</strong></span><span class="pink2">:</span> <span class="green"><strong>10px</strong></span><span class="ash">;</span>
}</pre>
<p class="noindent">We can replace this in Sass with</p>
<pre class="pre1"><span class="blue5"><strong>.center</strong></span> {
  <span class="green"><strong>text-align</strong></span><span class="pink2">:</span> <span class="green"><strong>center</strong></span><span class="ash">;</span>

 <span class="green3"><strong>h1</strong></span> {
  <span class="green"><strong>margin-bottom</strong></span><span class="pink2">:</span> <span class="green"><strong>10px</strong></span><span class="ash">;</span>
  }
}</pre>
<p class="noindent">Here the nested <span class="dark-green"><strong><code>h1</code></strong></span> rule automatically inherits the <span class="dark-green"><strong><code>.center</code></strong></span> context.</p>
<p class="indent">There’s a second candidate for nesting that requires a slightly different syntax. In <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex09">Listing 5.9</a>, we have the code</p>
<p class="codelink"><a id="pf0230-01-z" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0230-01-za">Click here to view code image</a></p>
<pre class="pre1"><span class="blue5"><strong>#logo</strong></span> {
  <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
  <span class="green"><strong>margin-right</strong></span><span class="pink2">:</span> <span class="green"><strong>10px</strong></span><span class="ash">;</span>
<span epub:type="pagebreak" id="page_230"></span>  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><strong><span class="blue3">.7em</span></strong><span class="ash">;</span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#fff</strong></span><span class="ash">;</span>
  <span class="green"><strong>text-transform</strong></span><span class="pink2">:</span> <span class="green"><strong>uppercase</strong></span><span class="ash">;</span>
  <span class="green"><strong>letter-spacing</strong></span><span class="pink2">:</span> <span class="green"><strong>-1px</strong></span><span class="ash">;</span>
  <span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>9px</strong></span><span class="ash">;</span>
  <span class="green"><strong>font-weight</strong></span><span class="pink2">:</span> <span class="green"><strong>bold</strong></span><span class="ash">;</span>
}

 <span class="blue5"><strong>#logo</strong></span><span class="pink2">:hover</span> {
   <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#fff</strong></span><span class="ash">;</span>
   <span class="green"><strong>text-decoration</strong></span><span class="pink2">:</span> <span class="green"><strong>none</strong></span><span class="ash">;</span>
}</pre>
<p class="noindent">Here the logo id <span class="dark-green"><strong><code>#logo</code></strong></span> appears twice, once by itself and once with the <span class="dark-green"><strong><code>hover</code></strong></span> attribute (which controls its appearance when the mouse pointer hovers over the element in question). To nest the second rule, we need to reference the parent element <span class="dark-green"><strong><code>#logo</code></strong></span>; in SCSS, this is accomplished with the ampersand character <span class="dark-green"><strong><code>&amp;</code></strong></span> as follows:</p>
<p class="codelink"><a id="pf0230-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0230-02a">Click here to view code image</a></p>
<pre class="pre1"><span class="blue1"><strong>#logo</strong></span> {
  <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
  <span class="green"><strong>margin-right</strong></span><span class="pink2">:</span> <span class="green"><strong>10px</strong></span><span class="ash">;</span>
  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><strong><span class="blue3">.7em</span></strong><span class="ash">;</span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#fff</strong></span><span class="ash">;</span>
  <span class="green"><strong>text-transform</strong></span><span class="pink2">:</span> <span class="green"><strong>uppercase</strong></span><span class="ash">;</span>
  <span class="green"><strong>letter-spacing</strong></span><span class="pink2">:</span> <span class="green"><strong>-1px</strong></span><span class="ash">;</span>
  <span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>9px</strong></span><span class="ash">;</span>
  <span class="green"><strong>font-weight</strong></span><span class="pink2">:</span> <span class="green"><strong>bold</strong></span><span class="ash">;</span>
  <span class="green3">&amp;</span><span class="pink3">:hover</span> {
    <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#fff</strong></span><span class="ash">;</span>
    <span class="green"><strong>text-decoration</strong></span><span class="pink2">:</span> <span class="green"><strong>none</strong></span><span class="ash">;</span>
  }
}</pre>
<p class="noindent">Sass changes <span class="dark-green"><strong><code>&amp;:hover</code></strong></span> into <span class="dark-green"><strong><code>#logo:hover</code></strong></span> as part of converting from SCSS to CSS.</p>
<p class="indent">Both of these nesting techniques apply to the footer CSS in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex017">Listing 5.17</a>, which can be transformed into the following:</p>
<p class="codelink"><a id="pf0231-01-z" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0231-01-za">Click here to view code image</a></p>
<pre class="pre1"><span class="green"><strong>footer</strong></span> {
  <span class="green"><strong>margin-top</strong></span><span class="pink2">:</span> <span class="green"><strong>45px</strong></span><span class="ash">;</span>
  <span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>5px</strong></span><span class="ash">;</span>
  <span class="green"><strong>border-top</strong></span><span class="pink2">:</span> <span class="green"><strong>1px solid</strong></span> <strong><span class="blue3">#eaeaea</span></strong><span class="ash">;</span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#777</strong></span><span class="ash">;</span>
  <span class="green"><strong>a</strong></span> {
<span epub:type="pagebreak" id="page_231"></span>    <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#555</strong></span><span class="ash">;</span>
    <span class="green"><strong>&amp;</strong></span><span class="pink2">:hover</span> {
       <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#222</strong></span><span class="ash">;</span>
    }
  }
  <span class="green"><strong>small</strong></span> {
    <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
  }
  <span class="green"><strong>ul</strong></span> {
    <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>right</strong></span><span class="ash">;</span>
    <span class="green"><strong>list-style</strong></span><span class="pink2">:</span> <span class="green"><strong>none</strong></span><span class="ash">;</span>
    <span class="green"><strong>li</strong></span> {
      <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
      <span class="green"><strong>margin-left</strong></span><span class="pink2">:</span> <span class="green"><strong>15px</strong></span><span class="ash">;</span>
    }
  }
}</pre>
<p class="noindent">Converting <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex017">Listing 5.17</a> by hand is a good exercise (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_2_2">Section 5.2.2</a>), and you should verify that the CSS still works properly after the conversion.</p>
</section>
<section>
<h5 class="h5" id="lev49">Variables</h5>
<p class="noindent">Sass allows us to define <em>variables</em> to eliminate duplication and write more expressive code. For example, looking at <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex08">Listing 5.8</a> and <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex017">Listing 5.17</a>, we see that there are repeated references to the same color:</p>
<pre class="pre1"><span class="green"><strong>h2</strong></span> {
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="ash3"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#777</strong></span>;
}
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="green"><strong>footer</strong></span> {
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="ash3"><strong>color</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#777</strong></span>;
}</pre>
<p class="noindent">In this case, <span class="dark-green"><strong><code>#777</code></strong></span> is a light gray, and we can give it a name by defining a variable as follows:</p>
<pre class="pre1"><span class="violet">$light-gray</span><span class="ash">: #777</span>;</pre>
<p class="noindent"><span epub:type="pagebreak" id="page_232"></span>This allows us to rewrite our SCSS like this:</p>
<pre class="pre1"><span class="violet">$light-gray</span><span class="ash">: #777</span>;
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="green"><strong>h2</strong></span> {
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="red-box">$</span><span class="green"><strong>light-gray</strong></span><span class="ash">;</span>
}
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="green"><strong>footer</strong></span> {
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="red-box">$</span><span class="green"><strong>light-gray</strong></span><span class="ash">;</span>
}</pre>
<p class="indent">Because variable names such as <span class="dark-green"><strong><code>$light-gray</code></strong></span> are more descriptive than <span class="dark-green"><strong><code>#777</code></strong></span>, it’s often useful to define variables even for values that aren’t repeated. Indeed, the Bootstrap framework defines a large number of variables for colors, available online on the Bootstrap page of Less variables. That page defines variables using Less, not Sass, but the <code>bootstrap-sass</code> gem provides the Sass equivalents. It is not difficult to guess the correspondence: Where Less uses an “at” sign <span class="dark-green"><strong><code>@</code></strong></span>, Sass uses a dollar sign <span class="dark-green"><strong><code>$</code></strong></span>. For example, looking at the Bootstrap variable page, we see that there is a variable for light gray:</p>
<pre class="pre1"><span class="green"><strong>@gray-light</strong></span><span class="pink2">:</span> <span class="blue3"><strong>#777</strong></span><span class="ash">;</span></pre>
<p class="noindent">This means that, via the <code>bootstrap-sass</code> gem, there should be a corresponding SCSS variable <span class="dark-green"><strong><code>$gray-light</code></strong></span>. We can use this to replace our custom variable, <span class="dark-green"><strong><code>$light-gray</code></strong></span>, which gives</p>
<pre class="pre1"><span class="green"><strong>h2</strong></span> {
 <span class="blue3"><strong>.</strong></span>
 <span class="blue3"><strong>.</strong></span>
 <span class="blue3"><strong>.</strong></span>
<span epub:type="pagebreak" id="page_233"></span>  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="red-box">$</span><span class="green"><strong>gray-light</strong></span><span class="ash">;</span>
}
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="blue3"><strong>.</strong></span>
<span class="green"><strong>footer</strong></span> {
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="blue3"><strong>.</strong></span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="red-box">$</span><span class="green"><strong>gray-light</strong></span><span class="ash">;</span>
}</pre>
<p class="indent">Applying the Sass nesting and variable definition features to the full SCSS file gives the file in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex020">Listing 5.20</a>. This uses both Sass variables (as inferred from the Bootstrap Less variable page) and built-in named colors (i.e., <span class="dark-green"><strong><code>white</code></strong></span> for <span class="dark-green"><strong><code>#fff</code></strong></span>). Note in particular the dramatic improvement in the rules for the <span class="dark-green"><strong><code>footer</code></strong></span> tag.</p>
<p class="ex-title" id="ch05ex020"><strong>Listing 5.20:</strong> The initial SCSS file converted to use nesting and variables.</p>
<pre class="pre2">app/assets/stylesheets/custom.scss</pre>
<p class="codelink"><a id="pf0233-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0233-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap-sprockets"</span>;
<span class="green"><strong>@import</strong></span> <span class="maroon">"bootstrap"</span>;

<span class="blue">/* mixins, variables, etc. */</span>

<span class="violet">$gray-medium-light</span><span class="ash">: #eaeaea</span>;

<span class="blue">/* universal */</span>

<span class="green"><strong>body</strong></span> {
  <span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>60px</strong></span><span class="ash">;</span>
}

<span class="green"><strong>section</strong></span> {
  <span class="green"><strong>overflow</strong></span><span class="pink2">:</span> <span class="green"><strong>auto</strong></span><span class="ash">;</span>
}

<span class="green"><strong>textarea</strong></span> {
  <span class="green"><strong>resize</strong></span><span class="pink2">:</span> <span class="green"><strong>vertical</strong></span><span class="ash">;</span>
}

<span class="blue3"><strong>.center</strong></span> {
  <span class="green"><strong>text-align</strong></span><span class="pink2">:</span> <span class="green"><strong>center</strong></span><span class="ash">;</span>
  <span class="green"><strong>h1</strong></span> {
<span epub:type="pagebreak" id="page_234"></span>    <span class="green"><strong>margin-bottom</strong></span><span class="pink2">:</span> <span class="green"><strong>10px</strong></span><span class="ash">;</span>
  }
}

<span class="blue">/* typography */</span>

<span class="green"><strong>h1</strong></span><span class="ash">,</span> <span class="green"><strong>h2</strong></span><span class="ash">,</span> <span class="green"><strong>h3</strong></span><span class="ash">,</span> <span class="green"><strong>h4</strong></span><span class="ash">,</span> <span class="green"><strong>h5</strong></span><span class="ash">,</span> <span class="green"><strong>h6</strong></span> {
  <span class="green"><strong>line-height</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><span class="ash">;</span>
}
<span class="green"><strong>h1</strong></span> {
  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>3em</strong></span><span class="ash">;</span>
  <span class="green"><strong>letter-spacing</strong></span><span class="pink2">:</span> <span class="green"><strong>-2px</strong></span><span class="ash">;</span>
  <span class="green"><strong>margin-bottom</strong></span><span class="pink2">:</span> <span class="green"><strong>30px</strong></span><span class="ash">;
  <span class="green"><strong>text-align</strong></span><span class="pink2">:</span></span> <span class="green"><strong>center</strong></span><span class="ash">;</span>
}

<span class="green"><strong>h2</strong></span> {
  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><strong><span class="blue3">.2em</span></strong><span class="ash">;</span>
  <span class="green"><strong>letter-spacing</strong></span><span class="pink2">:</span> <span class="green"><strong>-1px</strong></span><span class="ash">;</span>
  <span class="green"><strong>margin-bottom</strong></span><span class="pink2">:</span> <span class="green"><strong>30px</strong></span><span class="ash">;</span>
  <span class="green"><strong>text-align</strong></span><span class="pink2">:</span> <span class="green"><strong>center</strong></span><span class="ash">;
  <span class="green"><strong>font-weight</strong></span><span class="pink2">:</span> <span class="green"><strong>normal</strong></span><span class="ash">;</span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> $<span class="green"><strong>gray-light</strong></span><span class="ash">;</span>
}
<span class="green"><strong>p</strong></span> {
  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><span class="blue3">.1em</span></span><span class="ash">;</span>
  <span class="green"><strong>line-height</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><strong><span class="blue3">.7em</span></strong><span class="ash">;</span>
}


<span class="blue">/* header */</span>

<span class="blue3"><strong>#logo</strong></span> {
  <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
  <span class="green"><strong>margin-right</strong></span><span class="pink2">:</span> <span class="green"><strong>10px</strong></span><span class="ash">;</span>
  <span class="green"><strong>font-size</strong></span><span class="pink2">:</span> <span class="green"><strong>1</strong></span><strong><span class="blue3">.7em</span></strong><span class="ash">;</span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="green"><strong>white</strong></span><span class="ash">;</span>
  <span class="green"><strong>text-transform</strong></span><span class="pink2">:</span> <span class="green"><strong>uppercase</strong></span><span class="ash">;</span>
  <span class="green"><strong>letter-spacing</strong></span><span class="pink2">:</span> <span class="green"><strong>-1px</strong></span><span class="ash">;</span>
  <span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>9px</strong></span><span class="ash">;</span>
  <span class="green"><strong>font-weight</strong></span><span class="pink2">:</span> <span class="green"><strong>bold</strong></span><span class="ash">;</span>
  <span class="green"><strong>&amp;</strong></span><span class="pink2">:hover</span> {
    <span class="green"><strong>color</strong></span><span class="pink2">:</span> <span class="green"><strong>white</strong></span><span class="ash">;</span>
    <span class="green"><strong>text-decoration</strong></span><span class="pink2">:</span> <span class="green"><strong>none</strong></span><span class="ash">;</span>
  }
}

<span epub:type="pagebreak" id="page_235"></span><span class="blue">/* footer */</span>

<span class="green"><strong>footer</strong></span> {
  <span class="green"><strong>margin-top</strong></span><span class="pink2">:</span> <span class="green"><strong>45px</strong></span><span class="ash">;</span>
  <span class="green"><strong>padding-top</strong></span><span class="pink2">:</span> <span class="green"><strong>5px</strong></span><span class="ash">;</span>
  <span class="green"><strong>border-top</strong></span><span class="pink2">:</span> <span class="green"><strong>1px solid</strong></span> $<span class="green"><strong>gray-medium-light</strong></span><span class="ash">;</span>
  <span class="green"><strong>color</strong></span><span class="pink2">:</span> $<span class="green"><strong>gray-light</strong></span><span class="ash">;</span>
  <span class="green"><strong>a</strong></span> {
    <span class="green"><strong>color</strong></span><span class="pink2">:</span> $<span class="green"><strong>gray</strong></span><span class="ash">;</span>
    <span class="green"><strong>&amp;</strong></span><span class="pink2">:hover</span> {
      <span class="green"><strong>color</strong></span><span class="pink2">:</span> $<span class="green"><strong>gray-darker</strong></span><span class="ash">;</span>
    }
  }
  <span class="green"><strong>small</strong></span> {
    <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
  }
  <span class="green"><strong>ul</strong></span> {
    <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>right</strong></span><span class="ash">;</span>
    <span class="green"><strong>list-style</strong></span><span class="pink2">:</span> <span class="green"><strong>none</strong></span><span class="ash">;</span>
    <span class="green"><strong>li</strong></span> {
      <span class="green"><strong>float</strong></span><span class="pink2">:</span> <span class="green"><strong>left</strong></span><span class="ash">;</span>
      <span class="green"><strong>margin-left</strong></span><span class="pink2">:</span> <span class="green"><strong>15px</strong></span><span class="ash">;</span>
    }
  }
}</pre>
</div>
<p class="indent">Sass gives us even more ways to simplify our stylesheets, but the code in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex020">Listing 5.20</a> uses the most important features and gives us a great start. See the Sass website for more details.</p>
</section>
<section>
<h5 class="h5" id="lev50">Exercise</h5>
<p class="noindent">Solutions to the exercises are available to all Rails Tutorial purchasers at <a href="https://www.railstutorial.org/aw-solutions">https://www.railstutorial.org/aw-solutions</a>.</p>
<p class="indent">To see other people’s answers and to record your own, subscribe to the Rails Tutorial course or to the Learn Enough All Access Bundle.</p>
<ol class="num">
<li><p class="num">As suggested in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_2_2">Section 5.2.2</a>, go through the steps to convert the footer CSS from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex017">Listing 5.17</a> to <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex020">Listing 5.20</a> to SCSS by hand.</p></li>
</ol>
</section>
</section>
</section>
<section>
<h3 class="h3" id="sec5_3">5.3 Layout Links</h3>
<p class="noindent">Now that we’ve finished a site layout with decent styling, it’s time to start filling in the links we’ve stubbed out with <span class="dark-green"><strong><code>'#'</code></strong></span>. Because plain HTML is valid in Rails ERb templates, we could hard-code links like<span epub:type="pagebreak" id="page_236"></span></p>
<figure id="ch05tab01">
<figcaption><p><strong>Table 5.1:</strong> Route and URL mapping for site links.</p></figcaption>
<table class="topbot">
<thead>
<tr>
<th class="tab-th"><p class="tab-para"><strong>Page</strong></p></th>
<th class="tab-th"><p class="tab-para"><strong>URL</strong></p></th>
<th class="tab-th"><p class="tab-parar"><strong>Named route</strong></p></th>
</tr>
</thead>
<tbody><tr>
<td><p class="tab-para">Home</p></td>
<td><p class="tab-para">/</p></td>
<td><p class="tab-parar"><span class="dark-green"><strong><code>root_path</code></strong></span></p></td>
</tr>
<tr>
<td><p class="tab-para">About</p></td>
<td><p class="tab-para">/about</p></td>
<td><p class="tab-parar"><span class="dark-green"><strong><code>about_path</code></strong></span></p></td>
</tr>
<tr>
<td><p class="tab-para">Help</p></td>
<td><p class="tab-para">/help</p></td>
<td><p class="tab-parar"><span class="dark-green"><strong><code>help_path</code></strong></span></p></td></tr>
<tr>
<td><p class="tab-para">Contact</p></td>
<td><p class="tab-para">/contact</p></td>
<td><p class="tab-parar"><span class="dark-green"><strong><code>contact_path</code></strong></span></p></td>
</tr>
<tr>
<td><p class="tab-para">Sign up</p></td>
<td><p class="tab-para">/signup</p></td>
<td><p class="tab-parar"><span class="dark-green"><strong><code>signup_path</code></strong></span></p></td>
</tr>
<tr>
<td><p class="tab-para">Log in</p></td>
<td><p class="tab-para">/login</p></td>
<td><p class="tab-parar"><span class="dark-green"><strong><code>login_path</code></strong></span></p></td></tr>
</tbody></table>
</figure>
<p class="codelink"><a id="pf0236-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0236-01a">Click here to view code image</a></p>
<pre class="pre1">&lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"/static_pages/about"</span>&gt;About&lt;/<span class="green"><strong>a</strong></span>&gt;</pre>
<p class="noindent">but that isn’t the Rails Way™. For one, it would be nice if the URL for the about page were /about rather than /static_pages/about. Moreover, Rails conventionally uses <em>named routes</em>, which involves code like</p>
<p class="codelink"><a id="pf0236-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0236-02a">Click here to view code image</a></p>
<pre class="pre1"><span class="red5">&lt;%=</span> link_to <span class="maroon">"About"</span>, about_path <span class="red5">%&gt;</span></pre>
<p class="noindent">This way the code has a more transparent meaning, and it’s also more flexible since we can change the definition of <span class="dark-green"><strong><code>about_path</code></strong></span> and have the URL change everywhere <span class="dark-green"><strong><code>about_path</code></strong></span> is used.</p>
<p class="indent">The full list of our planned links appears in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05tab01">Table 5.1</a>, along with their mapping to URLs and routes. We took care of the first route in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_4_4">Section 3.4.4</a>, and we’ll have implemented all but the last one by the end of this chapter. (We’ll make the last one in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch08.xhtml#ch08">Chapter 8</a>.)</p>
<section>
<h4 class="h4" id="sec5_3_1">5.3.1 Contact Page</h4>
<p class="noindent">For completeness, we’ll add the Contact page, which was left as an exercise in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#ch03">Chapter 3</a>. The test appears as in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex021">Listing 5.21</a>, which simply follows the model last seen in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#ch03ex026">Listing 3.26</a>.</p>
<p class="ex-title" id="ch05ex021"><strong>Listing 5.21:</strong> A test for the Contact page. <span class="red5"><small>RED</small></span></p>
<pre class="pre2">test/controllers/static_pages_controller_test.rb</pre>
<p class="codelink"><a id="pf0236-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0236-03a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green1">require</span> <span class="maroon">'test_helper'</span>

<span class="green"><strong>class</strong></span> <strong><span class="blue3">StaticPagesControllerTest</span></strong> <span class="ash">&lt;</span> <span class="red">ActionDispatch</span><span class="ash">::</span><span class="red">IntegrationTest</span>
<span epub:type="pagebreak" id="page_237"></span>
  <span class="green1">test</span> <span class="maroon">"should get home"</span> <strong><span class="green">do</span></strong>
   get static_pages_home_url
   assert_response <span class="violet">:success</span>
   assert_select <span class="maroon">"title"</span>, <span class="maroon">"Ruby on Rails Tutorial Sample App"</span>
  <strong><span class="green">end</span></strong>

  <span class="green1">test</span> <span class="maroon">"should get help"</span> <strong><span class="green">do</span></strong>
   get static_pages_help_url
   assert_response <span class="violet">:success</span>
   assert_select <span class="maroon">"title"</span>, <span class="maroon">"Help | Ruby on Rails Tutorial Sample App"</span>
  <strong><span class="green">end</span></strong>

  <span class="green1">test</span> <span class="maroon">"should get about"</span> <strong><span class="green">do</span></strong>
   get static_pages_about_url
   assert_response <span class="violet">:success</span>
   assert_select <span class="maroon">"title"</span>, <span class="maroon">"About | Ruby on Rails Tutorial Sample App"</span>
  <strong><span class="green">end</span></strong>

<span class="mark">  <span class="green3">test</span> <span class="red2">"should get contact"</span> <strong><span class="green3">do</span></strong></span>
<span class="mark">    get static_pages_contact_url</span>
<span class="mark">    assert_response <span class="blue1">:success</span></span>
<span class="mark">    assert_select <span class="red2">"title"</span>, <span class="red2">"Contact | Ruby on Rails Tutorial Sample App"</span></span>
<span class="mark">  <strong><span class="green3">end</span></strong></span>
<strong><span class="green">end</span></strong></pre>
</div>
<p class="noindent">At this point, the tests in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex021">Listing 5.21</a> should be <span class="red5"><small>RED</small></span>:</p>
<p class="ex-title" id="ch05ex022"><strong>Listing 5.22:</strong> <span class="red5"><small>RED</small></span></p>
<div class="example">
<pre>$ rails test</pre>
</div>
<p class="indent">The application code parallels the addition of the About page in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_3">Section 3.3</a>: First we update the routes (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex023">Listing 5.23</a>), then we add a <span class="dark-green"><strong><code>contact</code></strong></span> action to the Static Pages controller (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex024">Listing 5.24</a>), and finally we create a Contact view (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex025">Listing 5.25</a>).</p>
<p class="ex-title" id="ch05ex023"><strong>Listing 5.23:</strong> Adding a route for the Contact page. <span class="red5"><small>RED</small></span></p>
<pre class="pre2">config/routes.rb</pre>
<p class="codelink"><a id="pf0237-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0237-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red">Rails</span><span class="ash">.</span>application<span class="ash">.</span>routes<span class="ash">.</span>draw <strong><span class="green">do</span></strong>
  root <span class="maroon">'static_pages#home'</span>
  get  <span class="maroon">'static_pages/home'</span>
<span epub:type="pagebreak" id="page_238"></span>  get  <span class="maroon">'static_pages/help'</span>
  get  <span class="maroon">'static_pages/about'</span>
<span class="mark">  get  <span class="red2">'static_pages/contact'</span></span>
<strong><span class="green">end</span></strong></pre>
</div>
<p class="ex-title" id="ch05ex024"><strong>Listing 5.24:</strong> Adding an action for the Contact page. <span class="red5"><small>RED</small></span></p>
<pre class="pre2">app/controllers/static_pages_controller.rb</pre>
<p class="codelink"><a id="pf0238-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0238-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green"><strong>class</strong></span> <strong><span class="blue3">StaticPagesController</span></strong> <span class="ash">&lt;</span> <span class="red">ApplicationController</span>
  <span class="ash">.</span>
  <span class="ash">.</span>
  <span class="ash">.</span>
  <strong><span class="green">def</span></strong> <span class="blue3">contact</span>
  <strong><span class="green">end</span></strong>
<strong><span class="green">end</span></strong></pre>
</div>
<p class="ex-title" id="ch05ex025"><strong>Listing 5.25:</strong> The view for the Contact page. <span class="green5"><small>GREEN</small></span></p>
<pre class="pre2">app/views/static_pages/contact.html.erb</pre>
<p class="codelink"><a id="pf0238-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0238-03a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red5">&lt;%</span> provide(<span class="violet">:title</span>, <span class="maroon">'Contact'</span>) <span class="red5">%&gt;</span>
&lt;<span class="green"><strong>h1</strong></span>&gt;Contact&lt;/<span class="green"><strong>h1</strong></span>&gt;
&lt;<span class="green"><strong>p</strong></span>&gt;
  Contact the Ruby on Rails Tutorial about the sample app at the
  &lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"https://www.railstutorial.org/contact"</span>&gt;contact page&lt;/<span class="green"><strong>a</strong></span>&gt;.
&lt;/<span class="green"><strong>p</strong></span>&gt;</pre>
</div>
<p class="indent">Now make sure that the tests are <span class="green5"><small>GREEN</small></span>:</p>
<p class="ex-title" id="ch05ex026"><strong>Listing 5.26:</strong> <span class="green5"><small>GREEN</small></span></p>
<div class="example">
<pre>$ rails test</pre>
</div>
</section>
<section>
<h4 class="h4" id="sec5_3_2">5.3.2 Rails Routes</h4>
<p class="noindent">To add the named routes for the sample app’s static pages, we’ll edit the routes file, <span class="dark-green"><strong><code>config/routes.rb</code></strong></span>, that Rails uses to define URL mappings. We’ll begin by reviewing the route for the Home page (defined in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_4_4">Section 3.4.4</a>), which is a special case, and then define a set of routes for the remaining static pages.<span epub:type="pagebreak" id="page_239"></span></p>
<p class="indent">So far, we’ve seen three examples of how to define a root route, starting with the code</p>
<pre class="pre1">root <span class="maroon">'application#hello'</span></pre>
<p class="noindent">in the hello app (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch01.xhtml#ch01ex011">Listing 1.11</a>), the code</p>
<pre class="pre1">root <span class="maroon">'users#index'</span></pre>
<p class="noindent">in the toy app (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch02.xhtml#ch02ex07">Listing 2.7</a>), and the code</p>
<pre class="pre1">root <span class="maroon">'static_pages#home'</span></pre>
<p class="noindent">in the sample app (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#ch03ex041">Listing 3.41</a>). In each case, the <span class="dark-green"><strong><code>root</code></strong></span> method arranges for the root path / to be routed to a controller and action of our choice. Defining the root route in this way has a second important effect: It creates named routes that enable us to refer to routes by a name rather than by the raw URL. In this case, these routes are <span class="dark-green"><strong><code>root_path</code></strong></span> and <span class="dark-green"><strong><code>root_url</code></strong></span>, with the only difference being that the latter includes the full URL:</p>
<p class="codelink"><a id="pf0239-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0239-01a">Click here to view code image</a></p>
<pre class="pre1">root_path <span class="ash">-&gt;</span> <span class="maroon">'/'</span>
root_url  <span class="ash">-&gt;</span> <span class="maroon">'http://www.example.com/'</span></pre>
<p class="noindent">In the Rails Tutorial, we’ll follow the common convention of using the <span class="dark-green"><strong><code>_path</code></strong></span> form except when doing redirects, where we’ll use the <span class="dark-green"><strong><code>_url</code></strong></span> form. (This is because the HTTP standard technically requires a full URL after redirects, though in most browsers it will work either way.)</p>
<p class="indent">Because the default routes used in, for example, <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex021">Listing 5.21</a> are rather verbose, we’ll also take this opportunity to define shorter named routes for the Help, About, and Contact pages. To do this, we need to make changes to the <span class="dark-green"><strong><code>get</code></strong></span> rules from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex023">Listing 5.23</a>, transforming lines like</p>
<pre class="pre1">get <span class="maroon">'static_pages/help'</span></pre>
<p class="noindent">to</p>
<p class="codelink"><a id="pf0239-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0239-02a">Click here to view code image</a></p>
<pre class="pre1">get <span class="maroon">'/help'</span>, <span class="violet">to</span>: <span class="maroon">'static_pages#help'</span></pre>
<p class="noindent"><span epub:type="pagebreak" id="page_240"></span>This new pattern routes a <code>GET</code> request for the URL /help to the <span class="dark-green"><strong><code>help</code></strong></span> action in the Static Pages controller. As with the rule for the root route, this creates two named routes, <span class="dark-green"><strong><code>help_path</code></strong></span> and <span class="dark-green"><strong><code>help_url</code></strong></span>:</p>
<p class="codelink"><a id="pf0240-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0240-01a">Click here to view code image</a></p>
<pre class="pre1">help_path <span class="ash">-&gt;</span> <span class="maroon">'/help'</span>
help_url  <span class="ash">-&gt;</span> <span class="maroon">'http://www.example.com/help'</span></pre>
<p class="noindent">Applying this rule change to the remaining static page routes from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex023">Listing 5.23</a> gives <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex027">Listing 5.27</a>.</p>
<p class="ex-title" id="ch05ex027"><strong>Listing 5.27:</strong> Routes for static pages. <span class="red5"><small>RED</small></span></p>
<pre class="pre2">config/routes.rb</pre>
<p class="codelink"><a id="pf0240-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0240-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red">Rails</span><span class="ash">.</span>application<span class="ash">.</span>routes<span class="ash">.</span>draw <strong><span class="green">do</span></strong>
  root <span class="maroon">'static_pages#home'</span>
  get  <span class="maroon">'/help'</span>,    <span class="violet">to</span>: <span class="maroon">'static_pages#help'</span>
  get  <span class="maroon">'/about'</span>,   <span class="violet">to</span>: <span class="maroon">'static_pages#about'</span>
  get  <span class="maroon">'/contact'</span>, <span class="violet">to</span>: <span class="maroon">'static_pages#contact'</span>
<strong><span class="green">end</span></strong></pre>
</div>
<p class="noindent">Note that <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex027">Listing 5.27</a> also removes the route for <span class="dark-green"><strong><code>'static_pages/home'</code></strong></span>, as we’ll always use <span class="dark-green"><strong><code>root_path</code></strong></span> or <span class="dark-green"><strong><code>root_url</code></strong></span> instead.</p>
<p class="indent">Because the tests in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex021">Listing 5.21</a> used the old routes, they are now <span class="red5"><small>RED</small></span>. To get them <span class="green5"><small>GREEN</small></span> again, we need to update the routes as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex028">Listing 5.28</a>. Note that we’ve taken this opportunity to update to the (optional) convention of using the <span class="dark-green"><strong><code>*_path</code></strong></span> form of each named route.</p>
<p class="ex-title" id="ch05ex028"><strong>Listing 5.28:</strong> The static pages tests with the new named routes. <span class="green5"><small>GREEN</small></span></p>
<pre class="pre2">test/controllers/static_pages_controller_test.rb</pre>
<p class="codelink"><a id="pf0240-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0240-03a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green1">require</span> <span class="maroon">'test_helper'</span>

<span class="green"><strong>class</strong></span> <strong><span class="blue3">StaticPagesControllerTest</span></strong> <span class="ash">&lt;</span> <span class="red">ActionDispatch</span><span class="ash">::</span><span class="red">IntegrationTest</span>

  <span class="green1">test</span> <span class="maroon">"should get home"</span> <strong><span class="green">do</span></strong>
<span class="mark">    get root_path</span>
    assert_response <span class="violet">:success</span>
    assert_select <span class="maroon">"title"</span>, <span class="maroon">"Ruby on Rails Tutorial Sample App"</span>
  <strong><span class="green">end</span></strong>
<span epub:type="pagebreak" id="page_241"></span>
  <span class="green1">test</span> <span class="maroon">"should get help"</span> <strong><span class="green">do</span></strong>
<span class="mark">    get help_path</span>
  assert_response <span class="violet">:success</span>
    assert_select <span class="maroon">"title"</span>, <span class="maroon">"Help | Ruby on Rails Tutorial Sample App"</span>
  <strong><span class="green">end</span></strong>

  <span class="green1">test</span> <span class="maroon">"should get about"</span> <strong><span class="green">do</span></strong>
<span class="mark">    get about_path</span>
    assert_response <span class="violet">:success</span>
    assert_select <span class="maroon">"title"</span>, <span class="maroon">"About | Ruby on Rails Tutorial Sample App"</span>
  <strong><span class="green">end</span></strong>

<span class="green1">test</span> <span class="maroon">"should get contact"</span> <strong><span class="green">do</span></strong>
<span class="mark">    get contact_path</span>
    assert_response <span class="violet">:success</span>
    assert_select <span class="maroon">"title"</span>, <span class="maroon">"Contact | Ruby on Rails Tutorial Sample App"</span>
  <strong><span class="green">end</span></strong>
<strong><span class="green">end</span></strong></pre>
</div>
<section>
<h5 class="h5" id="lev51">Exercises</h5>
<p class="noindent">Solutions to the exercises are available to all Rails Tutorial purchasers at <a href="https://www.railstutorial.org/aw-solutions">https://www.railstutorial.org/aw-solutions</a>.</p>
<p class="indent">To see other people’s answers and to record your own, subscribe to the Rails Tutorial course or to the Learn Enough All Access Bundle.</p>
<ol class="num">
<li><p class="num">It’s possible to use a named route other than the default by using the <span class="dark-green"><strong><code>as:</code></strong></span> option. Drawing inspiration from a famous <em>Far Side</em> comic strip, change the route for the Help page to use <span class="dark-green"><strong><code>helf</code></strong></span> (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex029">Listing 5.29</a>).</p></li>
<li><p class="num">Confirm that the tests are now <span class="red5"><small>RED</small></span>. Get them to <span class="green5"><small>GREEN</small></span> by updating the route in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex028">Listing 5.28</a>.</p></li>
<li><p class="num">Revert the changes from these exercises using Undo.</p></li>
</ol>
<p class="ex-title" id="ch05ex029"><strong>Listing 5.29:</strong> Changing ‘help’ to ‘helf’.</p>
<p class="codelink"><a id="pf0241-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0241-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red">Rails</span><span class="ash">.</span>application<span class="ash">.</span>routes<span class="ash">.</span>draw <strong><span class="green">do</span></strong>
  root <span class="maroon">'static_pages#home'</span>
<span class="mark">  get <span class="red2">'/help'</span>, <span class="blue1">to</span>: <span class="red2">'static_pages#help'</span>, <span class="blue1">as</span>: <span class="red2">'helf'</span></span>
  get <span class="maroon">'/about'</span>, <span class="violet">to</span>: <span class="maroon">'static_pages#about'</span>
  get <span class="maroon">'/contact'</span>, <span class="violet">to</span>: <span class="maroon">'static_pages#contact'</span>
<strong><span class="green">end</span></strong><span epub:type="pagebreak" id="page_242"></span></pre>
</div>
</section>
</section>
<section>
<h4 class="h4" id="sec5_3_3">5.3.3 Using Named Routes</h4>
<p class="noindent">With the routes defined in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex027">Listing 5.27</a>, we’re now in a position to use the resulting named routes in the site layout. This simply involves filling in the second arguments of the <span class="dark-green"><strong><code>link_to</code></strong></span> functions with the proper named routes. For example, we’ll convert</p>
<pre class="pre1"><span class="red5">&lt;%=</span> link_to <span class="maroon">"About"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span></pre>
<p class="noindent">to</p>
<p class="codelink"><a id="pf0242-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0242-02a">Click here to view code image</a></p>
<pre class="pre1"><span class="red5">&lt;%=</span> link_to <span class="maroon">"About"</span>, about_path <span class="red5">%&gt;</span></pre>
<p class="noindent">and so on.</p>
<p class="indent">We’ll start in the header partial, <span class="dark-green"><strong><code>_header.html.erb</code></strong></span> (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex030">Listing 5.30</a>), which has links to the Home and Help pages. While we’re at it, we’ll follow a common web convention and link the logo to the Home page as well.</p>
<p class="ex-title" id="ch05ex030"><strong>Listing 5.30:</strong> Header partial with links.</p>
<pre class="pre2">app/views/layouts/_header.html.erb</pre>
<p class="codelink"><a id="pf0242-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0242-03a">Click here to view code image</a></p>
<div class="example">
<pre>&lt;<span class="green"><strong>header</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"navbar navbar-fixed-top navbar-inverse"</span>&gt;
  &lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"container"</span>&gt;
<span class="mark">    <span class="maroon1">&lt;%=</span> link_to <span class="red2">"sample app"</span>, root_path, <span class="green3">id</span>: <span class="red2">"logo"</span> <span class="maroon1">%&gt;</span></span>
    &lt;<span class="green"><strong>nav</strong></span>&gt;
      &lt;<span class="green"><strong>ul</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"nav navbar-nav navbar-right"</span>&gt;
<span class="mark">        <span class="green3">&lt;</span><span class="green3"><strong>li</strong></span><span class="green3">&gt;</span><span class="maroon1">&lt;%=</span> link_to <span class="red2">"Home"</span>, root_path <span class="maroon1">%&gt;</span><span class="green3">&lt;/</span><span class="green3"><strong>li</strong></span><span class="green3">&gt;</span></span>
<span class="mark">        <span class="green3">&lt;</span><span class="green3"><strong>li</strong></span><span class="green3">&gt;</span><span class="maroon1">&lt;%=</span> link_to <span class="red2">"Help"</span>, help_path <span class="maroon1">%&gt;</span><span class="green3">&lt;/</span><span class="green3"><strong>li</strong></span><span class="green3">&gt;</span></span>
        &lt;<span class="green"><strong>li</strong></span>&gt;<span class="red5">&lt;%=</span> link_to <span class="maroon">"Log in"</span>, <span class="maroon">'#'</span> <span class="red5">%&gt;</span>&lt;/<span class="green"><strong>li</strong></span>&gt;
      &lt;/<span class="green"><strong>ul</strong></span>&gt;
    &lt;/<span class="green"><strong>nav</strong></span>&gt;
  &lt;/<span class="green"><strong>div</strong></span>&gt;
&lt;/<span class="green"><strong>header</strong></span>&gt;</pre>
</div>
<p class="noindent">We won’t have a named route for the “Log in” link until <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch08.xhtml#ch08">Chapter 8</a>, so we’ve left it as <span class="dark-green"><strong><code>'#'</code></strong></span> for now.</p>
<p class="indent">The other place with links is the footer partial, <span class="dark-green"><strong><code>_footer.html.erb</code></strong></span>, which has links to the About and Contact pages (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex031">Listing 5.31</a>).<span epub:type="pagebreak" id="page_243"></span></p>
<p class="ex-title" id="ch05ex031"><strong>Listing 5.31:</strong> Footer partial with links.</p>
<pre class="pre2">app/views/layouts/_footer.html.erb</pre>
<p class="codelink"><a id="pf0243-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0243-01a">Click here to view code image</a></p>
<div class="example">
<pre>&lt;<span class="green"><strong>footer</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"footer"</span>&gt;
  &lt;<span class="green"><strong>small</strong></span>&gt;
    The &lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"https://www.railstutorial.org/"</span>&gt;Ruby on Rails Tutorial&lt;/<span class="green"><strong>a</strong></span>&gt;
    by &lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"https://www.michaelhartl.com/"</span>&gt;Michael Hartl&lt;/<span class="green"><strong>a</strong></span>&gt;
  &lt;/<span class="green"><strong>small</strong></span>&gt;
  &lt;<span class="green"><strong>nav</strong></span>&gt;
    &lt;<span class="green"><strong>ul</strong></span>&gt;
<span class="mark">      <span class="green3">&lt;</span><span class="green3"><strong>li</strong></span><span class="green3">&gt;</span><span class="maroon1">&lt;%=</span> link_to <span class="red2">"About"</span>, about_path <span class="maroon1">%&gt;</span><span class="green3">&lt;/</span><span class="green3"><strong>li</strong></span><span class="green3">&gt;</span></span>
<span class="mark">      <span class="green3">&lt;</span><span class="green3"><strong>li</strong></span><span class="green3">&gt;</span><span class="maroon1">&lt;%=</span> link_to <span class="red2">"Contact"</span>, contact_path <span class="maroon1">%&gt;</span><span class="green3">&lt;/</span><span class="green3"><strong>li</strong></span><span class="green3">&gt;</span></span>
      &lt;<span class="green"><strong>li</strong></span>&gt;&lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"https://news.railstutorial.org/"</span>&gt;News&lt;/<span class="green"><strong>a</strong></span>&gt;&lt;/<span class="green"><strong>li</strong></span>&gt;
    &lt;/<span class="green"><strong>ul</strong></span>&gt;
  &lt;/<span class="green"><strong>nav</strong></span>&gt;
&lt;/<span class="green"><strong>footer</strong></span>&gt;</pre>
</div>
<p class="indent">With that, our layout has links to all the static pages created in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#ch03">Chapter 3</a>, so that, for example, /about goes to the About page (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig010">Figure 5.10</a>).</p>
<figure id="ch05fig010" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_10.jpg" alt="Image" width="677" height="520" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_10.jpg">
<figcaption><p><strong>Figure 5.10:</strong> The About page at /about.<span epub:type="pagebreak" id="page_244"></span></p></figcaption>
</figure>
<section>
<h5 class="h5" id="lev52">Exercises</h5>
<p class="noindent">Solutions to the exercises are available to all Rails Tutorial purchasers at <a href="https://www.railstutorial.org/aw-solutions">https://www.railstutorial.org/aw-solutions</a>.</p>
<p class="indent">To see other people’s answers and to record your own, subscribe to the Rails Tutorial course or to the Learn Enough All Access Bundle.</p>
<ol class="num">
<li><p class="num">Update the layout links to use the <span class="dark-green"><strong><code>helf</code></strong></span> route from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex029">Listing 5.29</a>.</p></li>
<li><p class="num">Revert the changes using Undo.</p></li>
</ol></section>
</section>
<section>
<h4 class="h4" id="sec5_3_4">5.3.4 Layout Link Tests</h4>
<p class="noindent">Now that we’ve filled in several of the layout links, it’s a good idea to test them to make sure they’re working correctly. We could do this by hand with a browser, first visiting the root path and then checking the links by hand, but this quickly becomes cumbersome. Instead, we’ll simulate the same series of steps using an <em>integration test</em>, which allows us to write an end-to-end test of our application’s behavior. We can get started by generating a template test, which we’ll call <span class="dark-green"><strong><code>site_layout</code></strong></span>:</p>
<p class="codelink"><a id="pf0244-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0244-01a">Click here to view code image</a></p>
<pre class="pre1"><strong><span class="navy">$</span></strong> rails generate integration_test site_layout
      <span class="green">invoke  test_unit</span>
      <span class="green">create    test/integration/site_layout_test.rb</span></pre>
<p class="noindent">Note that the Rails generator automatically appends <span class="dark-green"><strong><code>_test</code></strong></span> to the name of the test file.</p>
<p class="indent">Our plan for testing the layout links involves checking the HTML structure of our site:</p>
<ol class="num">
<li><p class="num">Get the root path (Home page).</p></li>
<li><p class="num">Verify that the right page template is rendered.</p></li>
<li><p class="num">Check for the correct links to the Home, Help, About, and Contact pages.</p></li>
</ol>
<p class="noindent"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex032">Listing 5.32</a> shows how we can use Rails integration tests to translate these steps into code, beginning with the <span class="dark-green"><strong><code>assert_template</code></strong></span> method to verify that the Home page is rendered using the correct view.<sup><a id="ch05fn18a" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn18">18</a></sup></p>
<p class="footnote"><a id="ch05fn18" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fn18a">18</a>. Some developers insist that a single test shouldn’t contain multiple assertions. I find this practice to be unnecessarily complicated, while also incurring extra overhead if common setup tasks are needed before each test. In addition, a well-written test tells a coherent story, and breaking it up into individual pieces disrupts the narrative. I thus have a strong preference for including multiple assertions in a test, relying on Ruby (via minitest) to tell me the exact lines of any failed assertions.<span epub:type="pagebreak" id="page_245"></span></p>
<p class="ex-title" id="ch05ex032"><strong>Listing 5.32:</strong> A test for the links on the layout. <span class="green5"><small>GREEN</small></span></p>
<pre class="pre2">test/integration/site_layout_test.rb</pre>
<p class="codelink"><a id="pf0245-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0245-01a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green1">require</span> <span class="maroon">'test_helper'</span>

<span class="green"><strong>class</strong></span> <strong><span class="blue3">SiteLayoutTest</span></strong> <span class="ash">&lt;</span> <span class="red">ActionDispatch</span><span class="ash">::</span><span class="red">IntegrationTest</span>

  <span class="green1">test</span> <span class="maroon">"layout links"</span> <strong><span class="green">do</span></strong>
    get root_path
    assert_template <span class="maroon">'static_pages/home'</span>
    assert_select <span class="maroon">"a[href=?]"</span>, root_path, <span class="violet">count</span>: <span class="ash">2</span>
    assert_select <span class="maroon">"a[href=?]"</span>, help_path
    assert_select <span class="maroon">"a[href=?]"</span>, about_path
    assert_select <span class="maroon">"a[href=?]"</span>, contact_path
  <strong><span class="green">end</span></strong>
<strong><span class="green">end</span></strong></pre>
</div>
<p class="noindent"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex032">Listing 5.32</a> uses some of the more advanced options of the <span class="dark-green"><strong><code>assert_select</code></strong></span> method, seen before in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#ch03ex026">Listing 3.26</a> and <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex021">Listing 5.21</a>. In this case, we use a syntax that allows us to test for the presence of a particular link–URL combination by specifying the tag name <span class="dark-green"><strong><code>a</code></strong></span> and attribute <span class="dark-green"><strong><code>href</code></strong></span>, as in</p>
<p class="codelink"><a id="pf0245-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0245-02a">Click here to view code image</a></p>
<pre class="pre1">assert_select <span class="maroon">"a[href=?]"</span>, about_path</pre>
<p class="noindent">Here Rails automatically inserts the value of <span class="dark-green"><strong><code>about_path</code></strong></span> in place of the question mark (escaping any special characters if necessary), thereby checking for an HTML tag of the form</p>
<pre class="pre1">&lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"/about"</span>&gt;...&lt;/<span class="green"><strong>a</strong></span>&gt;</pre>
<p class="noindent">Note that the assertion for the root path verifies that there are <em>two</em> such links (one each for the logo and navigation menu element):</p>
<p class="codelink"><a id="pf0245-04" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0245-04a">Click here to view code image</a></p>
<pre class="pre1">assert_select <span class="maroon">"a[href=?]"</span>, root_path, <span class="violet">count</span>: <span class="ash">2</span></pre>
<p class="noindent">This ensures that both links to the Home page defined in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex030">Listing 5.30</a> are present.<span epub:type="pagebreak" id="page_246"></span></p>
<figure id="ch05tab02">
<figcaption><p><strong>Table 5.2:</strong> Some uses of <span class="dark-green"><strong><code>assert_select</code></strong></span>.</p>
<table class="topbot">
<thead>
<tr>
<th class="tab-th"><p class="tab-para"><strong>Code</strong></p></th>
<th class="tab-th"><p class="tab-para"><strong>Matching HTML</strong></p></th>
</tr>
</thead>
<tbody><tr>
<td><p class="tab-para"><span class="dark-green"><strong><code>assert_select "div"</code></strong></span></p></td>
<td><p class="tab-para"><code>&lt;div&gt;foobar&lt;/div&gt;</code></p></td>
</tr>
<tr>
<td><p class="tab-para"><span class="dark-green"><strong><code>assert_select "div", "foobar"</code></strong></span></p></td>
<td><code>&lt;div&gt;foobar&lt;/div&gt;</code></td>
</tr>
<tr>
<td><p class="tab-para"><span class="dark-green"><strong><code>assert_select "div.nav"</code></strong></span></p></td>
<td><p class="tab-para"><code>&lt;div class="nav"&gt;foobar&lt;/div&gt;</code></p></td>
</tr>
<tr>
<td><p class="tab-para"><span class="dark-green"><strong><code>assert_select "div#profile"</code></strong></span></p></td>
<td><p class="tab-para"><code>&lt;div id="profile"&gt;foobar&lt;/div&gt;</code></p></td>
</tr>
<tr>
<td><p class="tab-para"><span class="dark-green"><strong><code>assert_select "div[name=yo]"</code></strong></span></p></td>
<td><p class="tab-para"><code>&lt;div name="yo"&gt;hey&lt;/div&gt;</code></p></td>
</tr>
<tr>
<td><p class="tab-para"><span class="dark-green"><strong><code>assert_select "a[href=?]", '/', count: 1</code></strong></span></p></td>
<td><p class="tab-para"><code>&lt;a href="/"&gt;foo&lt;/a&gt;</code></p></td>
</tr>
<tr>
<td><p class="tab-para"><span class="dark-green"><strong><code>assert_select "a[href=?]", '/', text: "foo"</code></strong></span></p></td>
<td><p class="tab-para">&lt;a href="/"&gt;foo&lt;/a&gt;</p></td></tr>
</tbody></table>
</figcaption>
</figure>
<p class="indent">Some other uses of <span class="dark-green"><strong><code>assert_select</code></strong></span> appear in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05tab02">Table 5.2</a>. While <span class="dark-green"><strong><code>assert_select</code></strong></span> is flexible and powerful (having many more options than the ones shown here), experience shows that it’s wise to take a lightweight approach by testing only HTML elements (such as site layout links) that are unlikely to change much over time.</p>
<p class="indent">To check that the new test in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex032">Listing 5.32</a> passes, we can run just the integration tests using the following Rake task:</p>
<p class="ex-title" id="ch05ex033"><strong>Listing 5.33:</strong> <span class="green5"><small>GREEN</small></span></p>
<div class="example">
<pre>$ rails test:integration</pre>
</div>
<p class="noindent">If all went well, you should run the full test suite to verify that all the tests are <span class="green5"><small>GREEN</small></span>:</p>
<p class="ex-title" id="ch05ex034"><strong>Listing 5.34:</strong> <span class="green5"><small>GREEN</small></span></p>
<div class="example">
<pre>$ rails test</pre>
</div>
<p class="noindent">With the added integration test for layout links, we are now in a good position to catch regressions quickly using our test suite.</p>
<section>
<h5 class="h5" id="lev53">Exercises</h5>
<p class="noindent">Solutions to the exercises are available to all Rails Tutorial purchasers at <a href="https://www.railstutorial.org/aw-solutions">https://www.railstutorial.org/aw-solutions</a>.<span epub:type="pagebreak" id="page_247"></span></p>
<p class="indent">To see other people’s answers and to record your own, subscribe to the Rails Tutorial course or to the Learn Enough All Access Bundle.</p>
<ol class="num">
<li><p class="num">In the footer partial, change <span class="dark-green"><strong><code>about_path</code></strong></span> to <span class="dark-green"><strong><code>contact_path</code></strong></span> and verify that the tests catch the error.</p></li>
<li><p class="num">It’s convenient to use the <span class="dark-green"><strong><code>full_title</code></strong></span> helper in the tests by including the Application helper into the test helper, as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex035">Listing 5.35</a>. We can then test for the right title using code like <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex036">Listing 5.36</a>. This is brittle, though, because now any typo in the base title (such as “Ruby on Rails Tutoial”) won’t be caught by the test suite. Fix this problem by writing a direct test of the <span class="dark-green"><strong><code>full_title</code></strong></span> helper, which involves creating a file to test the application helper and then filling in the code indicated with <span class="dark-green"><strong><code>FILL_IN</code></strong></span> in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex037">Listing 5.37</a>. (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex037">Listing 5.37</a> uses <span class="dark-green"><strong><code>assert_equal &lt;expected&gt;, &lt;actual&gt;</code></strong></span>, which verifies that the expected result matches the actual value when compared with the <span class="dark-green"><strong><code>==</code></strong></span> operator.)</p></li>
</ol>
<p class="ex-title" id="ch05ex035"><strong>Listing 5.35:</strong> Including the Application helper in tests.</p>
<pre class="pre2">test/test_helper.rb</pre>
<p class="codelink"><a id="pf0247-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0247-01a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red">ENV</span><span class="ash">[</span><span class="maroon">'RAILS_ENV'</span><span class="ash">] ||=</span> <span class="maroon">'test'</span>
<span class="ash">.</span>
<span class="ash">.</span>
<span class="ash">.</span>
<span class="green"><strong>class</strong></span> <strong><span class="blue3">ActiveSupport</span></strong><span class="ash">::</span><span class="red">TestCase</span>
  fixtures <span class="violet">:all</span>
<span class="mark">  <span class="green3"><strong>include</strong></span> <span class="red2">ApplicationHelper</span></span>
  <span class="ash">.</span>
  <span class="ash">.</span>
  <span class="ash">.</span>
<span class="green"><strong>end</strong></span></pre>
</div>
<p class="ex-title" id="ch05ex036"><strong>Listing 5.36:</strong> Using the <span class="dark-green"><strong><code>full_title</code></strong></span> helper in a test. <span class="green5"><small>GREEN</small></span></p>
<pre class="pre2">test/integration/site_layout_test.rb</pre>
<p class="codelink"><a id="pf0247-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0247-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green1">require</span> <span class="maroon">'test_helper'</span>

<span class="green"><strong>class</strong></span> <strong><span class="blue3">SiteLayoutTest</span></strong> <span class="ash">&lt;</span> <span class="red">ActionDispatch</span><span class="ash">::</span><span class="red">IntegrationTest</span>

  <span class="green1">test</span> <span class="maroon">"layout links"</span> <strong><span class="green">do</span></strong>
    get root_path
    assert_template <span class="maroon">'static_pages/home'</span>
<span epub:type="pagebreak" id="page_248"></span>    assert_select <span class="maroon">"a[href=?]"</span>, root_path, <span class="violet">count</span>: <span class="ash">2</span>
    assert_select <span class="maroon">"a[href=?]"</span>, help_path
    assert_select <span class="maroon">"a[href=?]"</span>, about_path
    assert_select <span class="maroon">"a[href=?]"</span>, contact_path
<span class="mark">    get contact_path</span>
<span class="mark">    assert_select <span class="red2">"title"</span>, full_title(<span class="red2">"Contact"</span>)</span>
  <strong><span class="green">end</span></strong>
<span class="green"><strong>end</strong></span></pre>
</div>
<p class="ex-title" id="ch05ex037"><strong>Listing 5.37:</strong> A direct test of the <span class="dark-green"><strong><code>full_title</code></strong></span> helper.</p>
<pre class="pre2">test/helpers/application_helper_test.rb</pre>
<p class="codelink"><a id="pf0248-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0248-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green1">require</span> <span class="maroon">'test_helper'</span>

<span class="green"><strong>class</strong></span> <strong><span class="blue3">ApplicationHelperTest</span></strong> <span class="ash">&lt;</span> <span class="red">ActionView</span><span class="ash">::</span><span class="red">TestCase</span>
  <span class="green1">test</span> <span class="maroon">"full title helper"</span> <strong><span class="green">do</span></strong>
    assert_equal full_title,         <span class="red">FILL_IN</span>
    assert_equal full_title(<span class="maroon">"Help"</span>), <span class="red">FILL_IN</span>
  <strong><span class="green">end</span></strong>
<strong><span class="green">end</span></strong></pre>
</div>
</section>
</section>
</section>
<section>
<h3 class="h3" id="sec5_4">5.4 User Signup: A First Step</h3>
<p class="noindent">As a capstone to our work on the layout and routing, in this section we’ll make a route for the signup page, which will mean creating a second controller along the way. This is an important first step toward allowing users to register for our site; we’ll take the next step, modeling users, in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#ch06">Chapter 6</a>, and we’ll finish the job in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch07.xhtml#ch07">Chapter 7</a>.</p>
<section>
<h4 class="h4" id="sec5_4_1">5.4.1 Users Controller</h4>
<p class="noindent">We created our first controller, the Static Pages controller, in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#sec3_2">Section 3.2</a>. It’s time to create a second one, the Users controller. As before, we’ll use <span class="dark-green"><strong><code>generate</code></strong></span> to make the simplest controller that meets our present needs—namely, one with a stub signup page for new users. Following the conventional REST architecture favored by Rails, we’ll call the action for new users <span class="dark-green"><strong><code>new</code></strong></span>, which we can arrange to create automatically by passing <span class="dark-green"><strong><code>new</code></strong></span> as an argument to <span class="dark-green"><strong><code>generate</code></strong></span>. The result is shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex038">Listing 5.38</a>.<span epub:type="pagebreak" id="page_249"></span></p>
<p class="ex-title" id="ch05ex038"><strong>Listing 5.38:</strong> Generating a Users controller (with a <span class="dark-green"><strong><code>new</code></strong></span> action).</p>
<p class="codelink"><a id="pf0249-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0249-01a">Click here to view code image</a></p>
<div class="example">
<pre><strong><span class="navy">$</span></strong> rails generate controller Users new
      <span class="green">create  app/controllers/users_controller.rb</span>
       <span class="green">route  get 'users/new'</span>
      <span class="green">invoke  erb</span>
      <span class="green">create    app/views/users</span>
      <span class="green">create    app/views/users/new.html.erb</span>
      <span class="green">invoke  test_unit</span>
      <span class="green">create    test/controllers/users_controller_test.rb</span>
      <span class="green">invoke  helper</span>
      <span class="green">create    app/helpers/users_helper.rb</span>
      <span class="green">invoke    test_unit</span>
      <span class="green">invoke  assets</span>
      <span class="green">invoke    scss</span>
      <span class="green">create      app/assets/stylesheets/users.scss</span></pre>
</div>
<p class="noindent">As required, <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex038">Listing 5.38</a> creates a Users controller with a <span class="dark-green"><strong><code>new</code></strong></span> action (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex039">Listing 5.39</a>) and a stub user view (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex040">Listing 5.40</a>). It also creates a minimal test for the new user page (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex041">Listing 5.41</a>).</p>
<p class="ex-title" id="ch05ex039"><strong>Listing 5.39:</strong> The initial Users controller, with a <span class="dark-green"><strong><code>new</code></strong></span> action.</p>
<pre class="pre2">app/controllers/users_controller.rb</pre>
<p class="codelink"><a id="pf0249-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0249-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green"><strong>class</strong></span> <strong><span class="blue3">UsersController</span></strong> <span class="ash">&lt;</span> <span class="red">ApplicationController</span>

  <strong><span class="green">def</span></strong> <span class="blue3">new</span>
  <strong><span class="green">end</span></strong>
<span class="green"><strong>end</strong></span></pre>
</div>
<p class="ex-title" id="ch05ex040"><strong>Listing 5.40:</strong> The initial <span class="dark-green"><strong><code>new</code></strong></span> view for Users.</p>
<pre class="pre2">app/views/users/new.html.erb</pre>
<p class="codelink"><a id="pf0249-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0249-03a">Click here to view code image</a></p>
<div class="example">
<pre>&lt;<span class="green"><strong>h1</strong></span>&gt;Users#new&lt;/<span class="green"><strong>h1</strong></span>&gt;
&lt;<span class="green"><strong>p</strong></span>&gt;Find me in app/views/users/new.html.erb&lt;/<span class="green"><strong>p</strong></span>&gt;</pre>
</div>
<p class="ex-title" id="ch05ex041"><strong>Listing 5.41:</strong> The generated test for the new user page. <span class="green5"><small>GREEN</small></span></p>
<pre class="pre2">test/controllers/users_controller_test.rb</pre>
<p class="codelink"><a id="pf0249-04" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0249-04a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green1">require</span> <span class="maroon">'test_helper'</span>

<span class="green"><strong>class</strong></span> <strong><span class="blue3">UsersControllerTest</span></strong> <span class="ash">&lt;</span> <span class="red">ActionDispatch</span><span class="ash">::</span><span class="red">IntegrationTest</span>
<span epub:type="pagebreak" id="page_250"></span>  <span class="green1">test</span> <span class="maroon">"should get new"</span> <strong><span class="green">do</span></strong>
    get users_new_url
    assert_response <span class="violet">:success</span>
  <strong><span class="green">end</span></strong>
<span class="green"><strong>end</strong></span></pre>
</div>
<p class="indent">At this point, the tests should be <span class="green5"><small>GREEN</small></span>:</p>
<p class="ex-title" id="ch05ex042"><strong>Listing 5.42:</strong> <span class="green5"><small>GREEN</small></span></p>
<div class="example">
<pre>$ rails test</pre>
</div>
<section>
<h5 class="h5" id="lev54">Exercises</h5>
<p class="noindent">Solutions to the exercises are available to all Rails Tutorial purchasers at <a href="https://www.railstutorial.org/aw-solutions">https://www.railstutorial.org/aw-solutions</a>.</p>
<p class="indent">To see other people’s answers and to record your own, subscribe to the Rails Tutorial course or to the Learn Enough All Access Bundle.</p>
<ol class="num">
<li><p class="num">Per <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05tab01">Table 5.1</a>, change the route in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex041">Listing 5.41</a> to use <span class="dark-green"><strong><code>signup_path</code></strong></span> instead of <span class="dark-green"><strong><code>users_new_url</code></strong></span>.</p></li>
<li><p class="num">The route in the previous exercise doesn’t yet exist, so confirm that the tests are now <span class="red5"><small>RED</small></span>. (This is intended to help us get comfortable with the <span class="red5"><small>RED</small></span>/ <span class="green5"><small>GREEN</small></span> flow of test-driven development (TDD, <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch03.xhtml#box3_3">Box 3.3</a>); we’ll get the tests back to <span class="green5"><small>GREEN</small></span> in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_4_2">Section 5.4.2</a>.)</p></li>
</ol></section>
</section>
<section>
<h4 class="h4" id="sec5_4_2">5.4.2 Signup URL</h4>
<p class="noindent">With the code from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_4_1">Section 5.4.1</a>, we already have a working page for new users at /users/new, but recall from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05tab01">Table 5.1</a> that we want the URL to be /signup instead. We’ll follow the examples from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex027">Listing 5.27</a> and add a <span class="dark-green"><strong><code>get '/signup'</code></strong></span> rule for the signup URL, as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex043">Listing 5.43</a>.</p>
<p class="ex-title" id="ch05ex043"><strong>Listing 5.43:</strong> A route for the signup page. <span class="red5"><small>RED</small></span></p>
<pre class="pre2">config/routes.rb</pre>
<p class="codelink"><a id="pf0250-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0250-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red">Rails</span><span class="ash">.</span>application<span class="ash">.</span>routes<span class="ash">.</span>draw <strong><span class="green">do</span></strong>
  root <span class="maroon">'static_pages#home'</span>
<span epub:type="pagebreak" id="page_251"></span>  get  <span class="maroon">'/help'</span>,    <span class="violet">to</span>: <span class="maroon">'static_pages#help'</span>
  get  <span class="maroon">'/about'</span>,   <span class="violet">to</span>: <span class="maroon">'static_pages#about'</span>
  get  <span class="maroon">'/contact'</span>, <span class="violet">to</span>: <span class="maroon">'static_pages#contact'</span>
<span class="mark">  get  <span class="red2">'/signup'</span>,  <span class="blue1">to</span>: <span class="red2">'users#new'</span></span>
<span class="green"><strong>end</strong></span></pre>
</div>
<p class="noindent">With the routes in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex043">Listing 5.43</a>, we also need to update the test generated in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex038">Listing 5.38</a> with the new signup route, as shown in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex044">Listing 5.44</a>.</p>
<p class="ex-title" id="ch05ex044"><strong>Listing 5.44:</strong> Updating the Users controller test to use the signup route. <span class="green5"><small>GREEN</small></span></p>
<pre class="pre2">test/controllers/users_controller_test.rb</pre>
<p class="codelink"><a id="pf0251-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0251-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="green1">require</span> <span class="maroon">'test_helper'</span>

<span class="green"><strong>class</strong></span> <strong><span class="blue3">UsersControllerTest</span></strong> <span class="ash">&lt;</span> <span class="red">ActionDispatch</span><span class="ash">::</span><span class="red">IntegrationTest</span>

  <span class="green1">test</span> <span class="maroon">"should get new"</span> <strong><span class="green">do</span></strong>
<span class="mark">    get signup_path</span>
    assert_response <span class="violet">:success</span>
  <strong><span class="green">end</span></strong>
<span class="green"><strong>end</strong></span></pre>
</div>
<p class="indent">Next, we’ll use the newly defined named route to add the proper link to the button on the Home page. As with the other routes, <span class="dark-green"><strong><code>get 'signup'</code></strong></span> automatically gives us the named route <span class="dark-green"><strong><code>signup_path</code></strong></span>, which we put to use in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex045">Listing 5.45</a>. Adding a test for the signup page is left as an exercise (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_3_2">Section 5.3.2</a>.)</p>
<p class="ex-title" id="ch05ex045"><strong>Listing 5.45:</strong> Linking the button to the signup page.</p>
<pre class="pre2">app/views/static_pages/home.html.erb</pre>
<p class="codelink"><a id="pf0251-03" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0251-03a">Click here to view code image</a></p>
<div class="example">
<pre>&lt;<span class="green"><strong>div</strong></span> <span class="ash3">class</span><span class="ash">=</span><span class="maroon">"center jumbotron"</span>&gt;
  &lt;<span class="green"><strong>h1</strong></span>&gt;Welcome to the Sample App&lt;/<span class="green"><strong>h1</strong></span>&gt;

  &lt;<span class="green"><strong>h2</strong></span>&gt;
    This is the home page for the
    &lt;<span class="green"><strong>a</strong></span> <span class="ash3">href</span><span class="ash">=</span><span class="maroon">"https://www.railstutorial.org/"</span>&gt;Ruby on Rails Tutorial&lt;/<span class="green"><strong>a</strong></span>&gt;
    sample application.
  &lt;/<span class="green"><strong>h2</strong></span>&gt;

<span class="mark">  <span class="maroon1">&lt;%=</span> link_to <span class="red2">"Sign up now!"</span>, signup_path, <span class="blue1">class</span>: <span class="red2">"btn btn-lg btn-primary"</span> <span class="maroon1">%&gt;</span></span>
<span epub:type="pagebreak" id="page_252"></span>&lt;/<span class="green"><strong>div</strong></span>&gt;

<span class="red5">&lt;%=</span> link_to image_tag(<span class="maroon">"rails.svg"</span>, <span class="violet">alt</span>: <span class="maroon">"Rails logo"</span>, <span class="violet">width</span>: <span class="maroon">"200"</span>),
                      <span class="maroon">"https://rubyonrails.org/"</span> <span class="red5">%&gt;</span></pre>
</div>
<p class="indent">Finally, we’ll add a custom stub view for the signup page (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex046">Listing 5.46</a>).</p>
<p class="ex-title" id="ch05ex046"><strong>Listing 5.46:</strong> The initial (stub) signup page.</p>
<pre class="pre2">app/views/users/new.html.erb</pre>
<p class="codelink"><a id="pf0252-02" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0252-02a">Click here to view code image</a></p>
<div class="example">
<pre><span class="red5">&lt;%</span> provide(<span class="violet">:title</span>, <span class="maroon">'Sign up'</span>) <span class="red5">%&gt;</span>
&lt;<span class="green"><strong>h1</strong></span>&gt;Sign up&lt;/<span class="green"><strong>h1</strong></span>&gt;
&lt;<span class="green"><strong>p</strong></span>&gt;This will be a signup page for new users.&lt;/<span class="green"><strong>p</strong></span>&gt;</pre>
</div>
<p class="noindent">With that, we’re done with the links and named routes—at least until we add a route for logging in (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch08.xhtml#ch08">Chapter 8</a>). The resulting new user page (at the URL /signup) appears in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig011">Figure 5.11</a>.</p>
<figure id="ch05fig011" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_11.jpg" alt="Image" width="678" height="521" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_11.jpg">
<figcaption><p><strong>Figure 5.11:</strong> The new signup page at /signup.<span epub:type="pagebreak" id="page_253"></span></p></figcaption>
</figure>
<section>
<h5 class="h5" id="lev55">Exercises</h5>
<p class="noindent">Solutions to the exercises are available to all Rails Tutorial purchasers at <a href="https://www.railstutorial.org/aw-solutions">https://www.railstutorial.org/aw-solutions</a>.</p>
<p class="indent">To see other people’s answers and to record your own, subscribe to the Rails Tutorial course or to the Learn Enough All Access Bundle.</p>
<ol class="num">
<li><p class="num">If you didn’t solve the exercise in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#sec5_4_1">Section 5.4.1</a>, change the test in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex041">Listing 5.41</a> to use the named route <span class="dark-green"><strong><code>signup_path</code></strong></span>. Because of the route defined in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex043">Listing 5.43</a>, this test should initially be <span class="green5"><small>GREEN</small></span>.</p></li>
<li><p class="num">To verify the correctness of the test in the previous exercise, comment out the <span class="dark-green"><strong><code>signup</code></strong></span> route to get to <span class="red5"><small>RED</small></span>, then uncomment it to get to <span class="green5"><small>GREEN</small></span>.</p></li>
<li><p class="num">In the integration test from <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex032">Listing 5.32</a>, add code to visit the signup page using the <span class="dark-green"><strong><code>get</code></strong></span> method and verify that the resulting page title is correct. <em>Hint</em>: Use the <span class="dark-green"><strong><code>full_title</code></strong></span> helper as in <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05ex036">Listing 5.36</a>.</p></li>
</ol>
</section>
</section>
</section>
<section>
<h3 class="h3" id="sec5_5">5.5 Conclusion</h3>
<p class="noindent">In this chapter, we’ve hammered our application layout into shape and polished up the routes. The rest of the book is dedicated to fleshing out the sample application: first, by adding users who can sign up, log in, and log out; next, by adding user microposts; and, finally, by adding the ability to follow other users.</p>
<p class="indent">At this point, if you are using Git, you should merge your changes back into the master branch:</p>
<p class="codelink"><a id="pf0253-01" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05_images.xhtml#pf0253-01a">Click here to view code image</a></p>
<pre class="pre1"><strong><span class="navy">$</span></strong> git add -A
<strong><span class="navy">$</span></strong> git commit -m <span class="maroon">"Finish layout and routes"</span>
<strong><span class="navy">$</span></strong> git checkout master
<strong><span class="navy">$</span></strong> git merge filling-in-layout</pre>
<p class="noindent">Then push up to GitHub (running the test suite first for safety):</p>
<pre class="pre1"><strong><span class="navy">$</span></strong> rails <span class="green1">test</span>
<strong><span class="navy">$</span></strong> git push</pre>
<p class="noindent">Finally, deploy to Heroku:</p>
<pre class="pre1"><strong><span class="navy">$</span></strong> git push heroku</pre>
<p class="noindent"><span epub:type="pagebreak" id="page_254"></span>The result of the deployment should be a working sample application on the production server (<a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch05.xhtml#ch05fig012">Figure 5.12</a>).</p>
<figure id="ch05fig012" class="image-l">
<img src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/fig05_12.jpg" alt="Image" width="677" height="520" data-mfp-src="/library/view/ruby-on-rails/9780136702726/graphics/fig05_12.jpg">
<figcaption><p><strong>Figure 5.12:</strong> The sample application in production.</p></figcaption>
</figure>
<section>
<h4 class="h4" id="sec5_5_1">5.5.1 What We Learned in this Chapter</h4>
<p class="bullet">• Using HTML5, we can define a site layout with logo, header, footer, and main body content.</p>
<p class="bullet">• Rails partials are used to place markup in a separate file for convenience.</p>
<p class="bullet">• CSS allows us to style the site layout based on CSS classes and ids.</p>
<p class="bullet">• The Bootstrap framework makes it easy to create a nicely designed site quickly.</p>
<p class="bullet">• Sass and the asset pipeline allow us to eliminate duplication in our CSS while packaging up the results efficiently for production.</p>
<p class="bullet">• Rails allows us to define custom routing rules, thereby providing named routes.</p>
<p class="bullet">• Integration tests effectively simulate a browser clicking from page to page.</p>
</section>
</section>
</section>
<div class="annotator-outer annotator-viewer viewer annotator-hide">
  <ul class="annotator-widget annotator-listing"></ul>
</div><div class="annotator-modal-wrapper annotator-editor-modal annotator-editor annotator-hide">
	<div class="annotator-outer editor">
		<h2 class="title">Highlight</h2>
		<form class="annotator-widget">
			<ul class="annotator-listing">
			<li class="annotator-item"><textarea id="annotator-field-5" placeholder="Add a note using markdown (optional)" class="js-editor" maxlength="750"></textarea></li></ul>
			<div class="annotator-controls">
				<a class="link-to-markdown" href="https://daringfireball.net/projects/markdown/basics" target="_blank">?</a>
				<ul>
					<li class="delete annotator-hide"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#delete" class="annotator-delete-note button positive">Delete Note</a></li>
					<li class="save"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#save" class="annotator-save annotator-focus button positive">Save Note</a></li>
					<li class="cancel"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#cancel" class="annotator-cancel button">Cancel</a></li>
				</ul>
			</div>
		</form>
	</div>
</div><div class="annotator-modal-wrapper annotator-delete-confirm-modal" style="display: none;">
  <div class="annotator-outer">
    <h2 class="title">Highlight</h2>
      <a class="js-close-delete-confirm annotator-cancel close" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#close">Close</a>
      <div class="annotator-widget">
         <div class="delete-confirm">
            Are you sure you want to permanently delete this note?
         </div>
         <div class="annotator-controls">
            <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#cancel" class="annotator-cancel button js-cancel-delete-confirm">No, I changed my mind</a>
            <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#delete" class="annotator-delete button positive js-delete-confirm">Yes, delete it</a>
         </div>
       </div>
   </div>
</div><div class="annotator-adder" style="display: none;">
	<ul class="adders">
		
		<li class="copy"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#">Copy</a></li>
		
		<li class="add-highlight"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#">Add Highlight</a></li>
		<li class="add-note"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#">
			Add Note
		</a></li>
		
	</ul>
</div></div></div>



  <div class="t-sbo-prev sbo-prev sbo-nav-bottom">
  
    
      
        <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch04.xhtml" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">Chapter 4. Rails-Flavored Ruby</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-bottom">
  
    
      
        <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">Chapter 6. Modeling Users</div>
        </a>
    
  
  </div>

</section>
  </div>
<section class="sbo-saved-archives"></section>



          
          
  




    
    
      <div id="js-subscribe-nag" class="subscribe-nag clearfix trial-panel t-subscribe-nag collapsed slideUp">
        
        
          <p class="usage-data">Find answers on the fly, or master something new. Subscribe today. <a href="https://learning.oreilly.com/subscribe/" class="ga-active-trial-subscribe-nag">See pricing options.</a></p>
        

        
        

      </div>

    
    



        
      </div>
      
        

<footer class="pagefoot t-pagefoot" style="padding-bottom: 69px;">
  <a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" class="icon-up" onclick="window.Appcues.track(&#39;JumpTop_HeronBook&#39;)" style="display: none;"><div class="visuallyhidden">Back to top</div></a>
  <ul class="js-footer-nav">
  
    
    <li><a href="https://learning.oreilly.com/public/support/">Support</a></li>
    
    <li><a href="https://learning.oreilly.com/accounts/logout/">Sign Out</a></li>
    
  
  
  </ul>
  <span class="copyright">© 2020 <a href="https://learning.oreilly.com/" target="_blank">O'Reilly Media, Inc</a>.</span>
  
    
    <a href="https://www.oreilly.com/terms/">Terms of Service</a> 
     / 
    
    <a href="https://learning.oreilly.com/privacy">Privacy Policy</a> 
    
    
  
</footer>

      
    
    <script src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/saved_resource(1)" charset="utf-8"></script><script type="text/javascript" id="">(function(){window.medalliaUserIdentifier=document.documentElement.dataset.userUuid;window.medalliaUserName=document.documentElement.dataset.username})();</script>
<script type="text/javascript" id="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/embed.js.download"></script>
    <script src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/saved_resource(2)" charset="utf-8"></script>
  

<div></div><div></div><div class="selection_bubble_root" style="display: none;"></div><div class="annotator-notice"></div><div class="font-flyout" style="top: 201.006px; left: 1194.34px;"><div class="font-controls-panel">
	<div class="nightmodes">
		<ul>
			<li class="day"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" id="day-mode" title="Day Mode">
				<i class="fa fa-sun-o"></i>
				<span>Day Mode</span></a></li>
			<li class="cloudy"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" id="cloudy-mode" title="Cloudy Mode">
				<i class="fa fa-cloud"></i>
				<span>Cloud Mode</span>
			</a></li>
			<li class="night"><a href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#" id="night-mode" title="Night Mode">
				<i class="fa fa-moon-o"></i>
				<span>Night Mode</span>
			</a></li>
		</ul>
	</div>

	<div class="font-resizer resizer">
		<div class="draggable-containment-wrapper">
			<i class="fa fa-font left"></i>
			<span class="filler" style="width: 50%;"></span>
			<div id="js-font-size-draggable" class="draggable ui-widget-content ui-draggable ui-draggable-handle" style="position: relative; left: 80px;"></div>
			<i class="fa fa-font right"></i>
		</div>
	</div>

	<div class="column-resizer resizer">
		<div class="draggable-containment-wrapper">
			<i class="fa fa-compress left"></i>
			<span class="filler" style="width: 50%;"></span>
			<div id="js-column-size-draggable" class="draggable ui-widget-content ui-draggable ui-draggable-handle" style="position: relative; left: 80px;"></div>
			<i class="fa fa-expand right"></i>
		</div>
	</div>

	<a id="reset" class="button" href="https://learning.oreilly.com/library/view/ruby-on-rails/9780136702726/ch06.xhtml#">Reset</a>
</div>
</div><script type="text/javascript" async="" src="./Chapter 5. Filling in the Layout - Ruby on Rails Tutorial, 6th Edition_files/generic1604331345324.js.download" charset="UTF-8"></script><script type="text/javascript" id="">function forceInputUppercase(a){var b=a.target.selectionStart,c=a.target.selectionEnd;a.target.value=a.target.value.toUpperCase();a.target.setSelectionRange(b,c)}void 0!=document.getElementById("id_promotion")&&null!=document.getElementById("id_promotion")&&document.getElementById("id_promotion").addEventListener("keyup",forceInputUppercase,!1);
void 0!=document.getElementsByName("promotionCode")[0]&&null!=document.getElementsByName("promotionCode")[0]&&document.getElementsByName("promotionCode")[0].addEventListener("keyup",forceInputUppercase,!1);</script><script type="text/javascript" id="">var nonwExpandable=document.querySelectorAll(".orm-ff-NavigationSubnav-headerListItem a, .orm-ff-NavigationView-headerListItem a");nonwExpandable.forEach(function(a,b){b+1!=nonwExpandable.length?a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.childNodes[1].textContent})}):b+1==nonwExpandable.length&&a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"user login",eventAct:"logout",eventLbl:"global nav | unified"})})});
var nonwExpandableFo=document.querySelectorAll(".drop-content li:not(.flyout-parent) a");
nonwExpandableFo.forEach(function(a,b){"drop-content"==a.parentNode.parentNode.parentNode.className&&b+1!=nonwExpandableFo.length?a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.childNodes[1].textContent})}):"drop-content"==a.parentNode.parentNode.parentNode.className&&b+1==nonwExpandableFo.length&&a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"user login",eventAct:"logout",eventLbl:"global nav | unified"})})});
var expandable=document.querySelectorAll(".orm-ff-NavigationSubnav-toggleControls a, .orm-ff-NavigationView-toggleControls a");expandable.forEach(function(a){a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.parentNode.parentNode.parentNode.querySelectorAll(".orm-Button-btnContentWrap span")[0].childNodes[1].textContent+" | "+a.textContent})})});var flyoutLinks=document.querySelectorAll(".flyout a");
flyoutLinks.forEach(function(a){a.addEventListener("click",function(){dataLayer.push({event:"eventTracker",eventCat:"global nav",eventAct:"navigation",eventLbl:a.closest("li.flyout-parent").getElementsByTagName("a")[0].textContent+" | "+a.textContent})})});</script><span></span><script type="text/javascript" id="">dataLayer.push({"ld.experiment":void 0,"ld.variation":void 0});</script></body></html>